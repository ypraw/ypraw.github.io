{"componentChunkName":"component---src-templates-post-template-js","path":"/setup-vga-amd-pada-manjaro-linux/","webpackCompilationHash":"0c9955e359bddcb52503","result":{"data":{"post":{"id":"334893f7-5ae0-5bd5-bc50-e7152ed0382b","html":"<p>Assalamualaikum temen-temen pembaca sekalian. Pada kesempatan sebelumnya saya telah membuat artikel mengenai <em>Hal-hal apa saja yang saya lakukan setelah menginstall Linux</em> yang dapat kalian baca disini <a href=\"/Linux-First-Install\">Linux First Install</a>. Dalam kesempatan kali ini saya akan membahas mengenai apa saja yang saya lakukan untuk mengkonfigurasi desktop linux saya agar dapat maksimal menggunakan resource terutama vga eksternal atau hybrid graphics agar bisa digunakan untuk bermain game seperti steam.\nreferensi <a href=\"https://wiki.archlinux.org/index.php/Power_management\">wiki archlinux</a></p>\n<p>Untuk spesifikasi Laptop yang saya gunakan,</p>\n<h3>Specifications</h3>\n<blockquote>\n<table>\n<thead>\n<tr>\n<th align=\"left\">Info</th>\n<th align=\"left\">Value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">OS</td>\n<td align=\"left\">Manjaro</td>\n</tr>\n<tr>\n<td align=\"left\">Desktop Environtment</td>\n<td align=\"left\">KDE Plasma</td>\n</tr>\n<tr>\n<td align=\"left\">Device Host</td>\n<td align=\"left\">Lenovo Ideapad 110-14isk</td>\n</tr>\n<tr>\n<td align=\"left\">Processor</td>\n<td align=\"left\">Intel i3-6100u @2.30Ghz</td>\n</tr>\n<tr>\n<td align=\"left\">GPU I</td>\n<td align=\"left\">Intel HD 520</td>\n</tr>\n<tr>\n<td align=\"left\">GPU II</td>\n<td align=\"left\">Radeon R5 M430</td>\n</tr>\n<tr>\n<td align=\"left\">Disk Storage I</td>\n<td align=\"left\">SSD 128 GB</td>\n</tr>\n<tr>\n<td align=\"left\">Disk Storage II</td>\n<td align=\"left\">HDD 1TB</td>\n</tr>\n</tbody>\n</table>\n</blockquote>\n<h3>Pembukaan</h3>\n<p>Pada dasarnya, kernel linux mendukung kartu grafis seperti Nvidia, Amd, ataupun Intel. Hanya saja dalam beberapa kasus seperti bermain game, diperlukan sedikit pengaturan agar kartu-kartu grafis tersebut dapat bekerja dengan baik, terlebih banyak generasi komputer atau laptop terbaru yang biasanya membawa 2 kartu grafis sekaligus atau dalam hal ini disebut sebagai <em>Hybrid Graphic Cards</em>.</p>\n<p>Dalam tutorial ini, saya akan menjelaskan pengaturan untuk kartu grafis intel sebagai bawaan processor dan Radeon sebagai eksternal yang sewaktu-waktu saya gunakan untuk bermain game steam seperti CSGo.</p>\n<h3>Langkah Pertama, check default module kernel</h3>\n<p>Untuk kartu grafis radeon, utamanya dukungan terhadap firmware kernel dapat di cek menggunakan syntax berikut, </p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">modinfo radeon</code></pre></div>\n<p>atau</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">modinfo amdgpu</code></pre></div>\n<p>dan juga mengecek driver mana yang telah diload sebagai main driver untuk kartu grafis amd dengan perintah berikut.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">dmesg</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> -i <span class=\"token string\">\"radeon\\|amdgpu\"</span></code></pre></div>\n<p>jika hasilnya seperti ini, maka dapat dipastikan bahwa module yang diload adalah radeon,</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>    0.859494<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>drm<span class=\"token punctuation\">]</span> radeon kernel modesetting enabled.\n<span class=\"token punctuation\">[</span>    0.860513<span class=\"token punctuation\">]</span> radeon 0000:01:00.0: enabling device <span class=\"token punctuation\">(</span>0400 -<span class=\"token operator\">></span> 0403<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">[</span>    0.870454<span class=\"token punctuation\">]</span> radeon 0000:01:00.0: VRAM: 2048M 0x0000000000000000 - 0x000000007FFFFFFF <span class=\"token punctuation\">(</span>2048M used<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">[</span>    0.870455<span class=\"token punctuation\">]</span> radeon 0000:01:00.0: GTT: 2048M 0x0000000080000000 - 0x00000000FFFFFFFF\n<span class=\"token punctuation\">[</span>    0.870532<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>drm<span class=\"token punctuation\">]</span> radeon: 2048M of VRAM memory ready\n<span class=\"token punctuation\">[</span>    0.870532<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>drm<span class=\"token punctuation\">]</span> radeon: 2048M of GTT memory ready.\n<span class=\"token punctuation\">[</span>    0.879182<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>drm<span class=\"token punctuation\">]</span> radeon: dpm initialized\n<span class=\"token punctuation\">[</span>    0.880203<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>drm<span class=\"token punctuation\">]</span> enabling PCIE gen 3 <span class=\"token function\">link</span> speeds, disable with radeon.pcie_gen2<span class=\"token operator\">=</span>0\n<span class=\"token punctuation\">[</span>    2.237318<span class=\"token punctuation\">]</span> radeon 0000:01:00.0: WB enabled\n<span class=\"token punctuation\">[</span>    2.237321<span class=\"token punctuation\">]</span> radeon 0000:01:00.0: fence driver on ring 0 use gpu addr 0x0000000080000c00 and cpu addr 0xffff928bf1ba9c00\n<span class=\"token punctuation\">[</span>    2.237322<span class=\"token punctuation\">]</span> radeon 0000:01:00.0: fence driver on ring 1 use gpu addr 0x0000000080000c04 and cpu addr 0xffff928bf1ba9c04\n<span class=\"token punctuation\">[</span>    2.237323<span class=\"token punctuation\">]</span> radeon 0000:01:00.0: fence driver on ring 2 use gpu addr 0x0000000080000c08 and cpu addr 0xffff928bf1ba9c08\n<span class=\"token punctuation\">[</span>    2.237324<span class=\"token punctuation\">]</span> radeon 0000:01:00.0: fence driver on ring 3 use gpu addr 0x0000000080000c0c and cpu addr 0xffff928bf1ba9c0c\n<span class=\"token punctuation\">[</span>    2.237325<span class=\"token punctuation\">]</span> radeon 0000:01:00.0: fence driver on ring 4 use gpu addr 0x0000000080000c10 and cpu addr 0xffff928bf1ba9c10\n<span class=\"token punctuation\">[</span>    2.237327<span class=\"token punctuation\">]</span> radeon 0000:01:00.0: radeon: MSI limited to 32-bit\n<span class=\"token punctuation\">[</span>    2.237365<span class=\"token punctuation\">]</span> radeon 0000:01:00.0: radeon: using MSI.\n<span class=\"token punctuation\">[</span>    2.237381<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>drm<span class=\"token punctuation\">]</span> radeon: irq initialized.\n<span class=\"token punctuation\">[</span>    2.445000<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>drm<span class=\"token punctuation\">]</span> Radeon Display Connectors\n<span class=\"token punctuation\">[</span>    2.446237<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>drm<span class=\"token punctuation\">]</span> Initialized radeon 2.50.0 20080528 <span class=\"token keyword\">for</span> 0000:01:00.0 on minor 0\n<span class=\"token punctuation\">[</span>    5.354608<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>drm<span class=\"token punctuation\">]</span> amdgpu kernel modesetting enabled.</code></pre></div>\n<p>jika hasilnya sebaliknnya maka module yang diload adalah AMDGPU.</p>\n<p>Untuk yang bingung apakah amdgpu dan radeon pada istilah ini, maka dapat membaca artikel berikut. <a href=\"https://wiki.archlinux.org/index.php/ATI\">Radeon</a>, <a href=\"https://wiki.archlinux.org/index.php/AMDGPU\">AMDGPU</a>.</p>\n<p>Pada dasarnya perbedaan mendasar antara <code class=\"language-text\">amdgpu</code> dan <code class=\"language-text\">radeon</code> adalah dukungannya terhadap generasi terbaru dari kartu grafis radeon, untuk kartu grafis <em>GCN 1.1</em> ke atas umumnya telah mendapat dukungan penuh module terbaru yaitu <code class=\"language-text\">AMDGPU</code> sedangkan untuk versi dibawahnya yaitu <code class=\"language-text\">GCN 1.0</code> module <code class=\"language-text\">AMDGPU</code> masih merupakan experimental feature, jadi masih terdapat beberapa bug ataupun perubahan-perubahn signifikan yang mempengaruhi performa walaupun tidak menutup kemungkinan untuk dukungan penuh sekalipun.</p>\n<p>Referensi untuk GCN dapat dibaca <a href=\"https://en.wikipedia.org/wiki/Graphics_Core_Next\">disini</a>\natau anda dapat mencari secara manual tipe dari kartu grafis yang anda gunakan dan dicocokan dengan tabel berikut.</p>\n<h3>AMD GRAPHIC CARDS MODULES</h3>\n<table>\n<thead>\n<tr>\n<th align=\"center\">GPU Architecture</th>\n<th align=\"center\">Opensource Driver</th>\n<th align=\"center\">Proprietary Driver</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\">GCN 4 or NEWER</td>\n<td align=\"center\">AMDGPU</td>\n<td align=\"center\">AMDGPU PRO</td>\n</tr>\n<tr>\n<td align=\"center\">GCN 3</td>\n<td align=\"center\">AMDGPU</td>\n<td align=\"center\">AMDGPU PRO/Catalyst</td>\n</tr>\n<tr>\n<td align=\"center\">GCN 2</td>\n<td align=\"center\">AMDGPU*/Radeon</td>\n<td align=\"center\">Catalyst</td>\n</tr>\n<tr>\n<td align=\"center\">GCN 1</td>\n<td align=\"center\">AMDGPU*/Radeon</td>\n<td align=\"center\">Catalyst</td>\n</tr>\n<tr>\n<td align=\"center\">Terascale 2 &#x26;3</td>\n<td align=\"center\">AMDGPU</td>\n<td align=\"center\">Catalyst</td>\n</tr>\n<tr>\n<td align=\"center\">Terscale 1</td>\n<td align=\"center\">AMDGPU</td>\n<td align=\"center\">Catalyst</td>\n</tr>\n<tr>\n<td align=\"center\">Oldr</td>\n<td align=\"center\">AMDGPU</td>\n<td align=\"center\">Not Available</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p><em>*experimental feature</em></p>\n</blockquote>\n<p>Setelah mengetahui driver mana yang telah diload dan termasuk generasi dengan arsitektur apa yang sesuai dengan kartu grafis anda maka langkah selanjutnnya yaitu menginstall driver-driver yang diperlukan.</p>\n<blockquote>\n<p><strong>NOTE: Cara ini merupakan cara untuk menggunakan opensource driver, jika anda memilih untuk menggunakan proprietary driver silahkan disesuaikan dengan ketersedian driver pada situs resmi AMD</strong></p>\n</blockquote>\n<ul>\n<li>\n<p>Untuk yang menggunakan driver Radeon.</p>\n<ul>\n<li>\n<p>install mesa package.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> pacman -S lib32-mesa xf86-video-ati mesa-vdpau lib32-mesa-vdpau</code></pre></div>\n<p>Umumnya jika kartu grafik anda disupport oleh driver radeon maka secara otomatis driver ini akan diload dengan sendirinya, namun jika tidak maka anda bisa meload secara manual pada <code class=\"language-text\">/etc/mkinitcpio.conf</code> pada module array tambahkan (tanpa titik),</p>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">MODULES<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">..</span>. radeon <span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">)</span></code></pre></div>\n<p>lalu pada file <code class=\"language-text\">/etc/defaul/grub</code>, tambahkan kernel parameter berikut.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"> radeon.dpm<span class=\"token operator\">=</span>1 radeon.audio<span class=\"token operator\">=</span>1 radeon.aspm<span class=\"token operator\">=</span>0 radeon.bapm<span class=\"token operator\">=</span>0 radeon.runpm<span class=\"token operator\">=</span>0 radeon.si_support<span class=\"token operator\">=</span>1</code></pre></div>\n<p>pada <code class=\"language-text\">GRUB_CMDLINE_LINUX_DEFAULT</code> sehingga menjadi seperti ini, <em>ikuti tutorial sebelum ini <a href=\"/Linux-First-Install\">Linux First Install</a></em></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"> GRUB_CMDLINE_LINUX_DEFAULT<span class=\"token operator\">=</span><span class=\"token string\">\"quiet acpi_osi=Linux acpi_osi=! acpi_osi='Windows 2009'  loglevel=3 i915.modeset=1 ipv6.disable=1 rd.udev.log_priority=3 acpi=force acpi_enforce_resources=lax pcie_aspm=force nopti spectre_v2=off \n radeon.dpm=1 radeon.audio=1 radeon.aspm=0 radeon.bapm=0 radeon.runpm=0 radeon.si_support=1\"</span></code></pre></div>\n<p> dilanjutkan dengan mengenerate image baru dan mengupdate-grub</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> pacman -S mkinitcpio -P <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">sudo</span> <span class=\"token function\">update-grub</span></code></pre></div>\n<blockquote>\n<p><strong>untuk pengguna ubuntu dan turunannya seperti mint, lakukan hanya pada penambahan kernel parameter dan cukup dengan mengupdate grub.</strong></p>\n</blockquote>\n</li>\n<li>\n<p>Untuk pengguna AMDGPU</p>\n<ul>\n<li>\n<p>install mesa package.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> pacman -S lib32-mesa xf86-video-amdgpu mesa-vdpau lib32-mesa-vdpau lib32-vulkan-radeon vulkan-radeon libva-mesa-driver lib32-libva-mesa-driver</code></pre></div>\n</li>\n<li>\n<p>aktivasi GCN Version Kernel Parameter pada <code class=\"language-text\">/etc/default/grub</code></p>\n<ul>\n<li>untuk <code class=\"language-text\">Southern Island (SI)</code> <code class=\"language-text\">radeon.si_support=0 amdgpu.si_support=1</code></li>\n<li>untuk <code class=\"language-text\">Sea Island (CIK)</code> <code class=\"language-text\">radeon.cik_support=0 amdgpu.cik_support=1</code></li>\n</ul>\n</li>\n<li>\n<p>Tambahkan pula kernel parameter berikut (sesuaikan si/cik sesuai gcn version kartu grafis anda, dalam kasus saya, yaitu Southern Island), </p>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">amdgpu.si_support<span class=\"token operator\">=</span>1 radeon.si_support<span class=\"token operator\">=</span>0 amdgpu.runpm<span class=\"token operator\">=</span>0 amdgpu.aspm<span class=\"token operator\">=</span>0 amdgpu.dpm<span class=\"token operator\">=</span>1 amdgpu.sound<span class=\"token operator\">=</span>1</code></pre></div>\n<p>sehingga pada <code class=\"language-text\">GRUB_CMDLINE_LINUX_DEFAULT</code> menjadi,</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">GRUB_CMDLINE_LINUX_DEFAULT<span class=\"token operator\">=</span><span class=\"token string\">\"quiet acpi_osi=Linux acpi_osi=! acpi_osi='Windows 2009'  loglevel=3 i915.modeset=1 ipv6.disable=1 rd.udev.log_priority=3 acpi=force acpi_enforce_resources=lax pcie_aspm=force nopti spectre_v2=off \namdgpu.si_support=1 radeon.si_support=0 amdgpu.runpm=0 amdgpu.aspm=0 amdgpu.dpm=1 amdgpu.sound=1\"</span></code></pre></div>\n<p>untuk yang menggunakan gcn 1.1 keatas tambahkan juga pada kernel parameter</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">amdgpu.dc<span class=\"token operator\">=</span>1</code></pre></div>\n<p>kemudian pada file <code class=\"language-text\">/etc/mkinitcpio.conf</code> tambahkan modules,</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">MODULES<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>amdgpu radeon i915<span class=\"token punctuation\">)</span></code></pre></div>\n<p>dilanjutkan dengan mengenerate image baru dan mengupdate-grub</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> pacman -S mkinitcpio -P <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">sudo</span> <span class=\"token function\">update-grub</span></code></pre></div>\n<blockquote>\n<p><strong>untuk pengguna ubuntu dan turunannya seperti mint, lakukan hanya pada penambahan kernel paratemer dan cukup dengan mengupdate grub.</strong></p>\n</blockquote>\n</li>\n</ul>\n<p>Langkah terakhir yaitu restart dan cek apakah terdapat error menggunakan syntax berikut.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">dmesg</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> -i <span class=\"token string\">\"radeon\\|amdgpu\"</span></code></pre></div>\n<p>jika tidak ada error, maka selamat, anda berhasil membuat kartu grafis amd anda aktif dan siap untuk bermain game.</p>\n<p>Untuk menswitch kartu grafis yang anda gunakan, anda dapat melakukan menggunakan syntax</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">DRI_PRIME<span class=\"token operator\">=</span>1 namaapps</code></pre></div>\n<p>Untuk pengguna Steam, pada list gamenya, click kanan kemudian pilih <code class=\"language-text\">properties</code> lalu pada\nmenu <code class=\"language-text\">Set Launch Options</code> tambahkan syntax berikut.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">DRI_PRIME<span class=\"token operator\">=</span>1 %command%</code></pre></div>\n<p>restart steamnya kemudian mainkan gamenya.</p>\n<p>Jika ada pertanyaan, dapat anda tanyakan pada kolom komentar dibawah, see youuuu.</p>\n<blockquote>\n<p>REFERENCE</p>\n<ul>\n<li><a href=\"https://wiki.archlinux.org/index.php/ATI\">Radeon</a></li>\n<li><a href=\"https://wiki.archlinux.org/index.php/AMDGPU\">AMDGPU</a></li>\n<li><a href=\"https://wiki.archlinux.org/index.php/PRIME\">PRIME</a> </li>\n</ul>\n</blockquote>","fields":{"slug":"/setup-vga-amd-pada-manjaro-linux/","prefix":"2019-01-13"},"frontmatter":{"title":"Setup Vga Amd Pada Manjaro Linux","author":"Yunindyo Prabowo","category":"linux"}},"authornote":{"id":"424eb42b-228f-546b-91e5-592453c0efaf","html":"<p>Programmer from Indonesia, Dark World enthusiast especially coffee and terminals,\nhave a dream to be a pythonist</p>"},"site":{"siteMetadata":{"facebook":{"appId":"236272456926570"}}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/setup-vga-amd-pada-manjaro-linux/","prev":{"id":"540568be-bb9d-57ed-9b23-78a58025c062","fields":{"slug":"/Linux-First-Install/","prefix":"2019-01-04","source":"posts"},"frontmatter":{"title":"Power Management Linux","category":"linux"}},"next":{"id":"9c15a0b5-3f5f-5add-af40-43ec31f4b826","fields":{"slug":"/kustomisasi-terminal-linux/","prefix":"2019-01-18","source":"posts"},"frontmatter":{"title":"Kustomisasi Terminal Linux","category":"linux"}},"source":"posts"}}}
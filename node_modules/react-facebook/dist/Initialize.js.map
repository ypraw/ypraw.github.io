{"version":3,"sources":["../src/Initialize.jsx"],"names":["Initialize","Component","componentDidMount","$isMounted","prepare","componentWillUnmount","onReady","handleInit","props","api","render","children","isReady","childrenProps","undefined","ref"],"mappings":";;;;;;;;;;;;;;;;;AACA;;AACA;;AAUA,MAAMA,UAAN,SAAyBC,gBAAzB,CAA0C;AAMxCC,EAAAA,iBAAiB,GAAG;AAClB,SAAKC,UAAL,GAAkB,IAAlB;AACA,SAAKC,OAAL;AACD;;AAEDC,EAAAA,oBAAoB,GAAG;AACrB,SAAKF,UAAL,GAAkB,KAAlB;AACD;;AAEKC,EAAAA,OAAN,GAAgB;AAAA;;AAAA;AACd,YAAM;AAAEE,QAAAA,OAAF;AAAWC,QAAAA;AAAX,UAA0B,KAAI,CAACC,KAArC;AACA,YAAMC,GAAG,SAASF,UAAU,EAA5B;;AACA,UAAID,OAAO,IAAI,KAAI,CAACH,UAApB,EAAgC;AAC9BG,QAAAA,OAAO,CAACG,GAAD,CAAP;AACD;AALa;AAMf;;AAEDC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEC,MAAAA,QAAF;AAAYC,MAAAA,OAAZ;AAAqBH,MAAAA;AAArB,QAA6B,KAAKD,KAAxC;AAEA,UAAMK,aAAa,GAAG;AACpBD,MAAAA,OADoB;AAEpBH,MAAAA;AAFoB,KAAtB;;AAKA,QAAI,OAAOE,QAAP,KAAoB,UAAxB,EAAoC;AAClC,aAAOA,QAAQ,CAACE,aAAD,CAAf;AACD;;AAED,WAAOF,QAAP;AACD;;AApCuC;;8BAApCX,U,kBACkB;AACpBM,EAAAA,OAAO,EAAEQ,SADW;AAEpBL,EAAAA,GAAG,EAAEK;AAFe,C;;eAsCT,uBAAW,CAACN,KAAD,EAAQO,GAAR,KACxB,6BAAC,wBAAD,CAAiB,QAAjB,QACG,CAAC;AAAER,EAAAA,UAAF;AAAcK,EAAAA,OAAd;AAAuBH,EAAAA;AAAvB,CAAD,KACC,6BAAC,UAAD,6BACMD,KADN;AAEE,EAAA,UAAU,EAAED,UAFd;AAGE,EAAA,OAAO,EAAEK,OAHX;AAIE,EAAA,GAAG,EAAEH,GAJP;AAKE,EAAA,GAAG,EAAEM;AALP,GAFJ,CADa,C","sourcesContent":["// @flow\nimport React, { forwardRef, Component } from 'react';\nimport FacebookContext from './FacebookContext';\n\ntype Props = {\n  children: Function,\n  onReady?: Function,\n  handleInit: Function,\n  isReady: boolean,\n  api?: Object,\n};\n\nclass Initialize extends Component<Props> {\n  static defaultProps = {\n    onReady: undefined,\n    api: undefined,\n  };\n\n  componentDidMount() {\n    this.$isMounted = true;\n    this.prepare();\n  }\n\n  componentWillUnmount() {\n    this.$isMounted = false;\n  }\n\n  async prepare() {\n    const { onReady, handleInit } = this.props;\n    const api = await handleInit();\n    if (onReady && this.$isMounted) {\n      onReady(api);\n    }\n  }\n\n  render() {\n    const { children, isReady, api } = this.props;\n\n    const childrenProps = {\n      isReady,\n      api,\n    };\n\n    if (typeof children === 'function') {\n      return children(childrenProps);\n    }\n\n    return children;\n  }\n}\n\nexport default forwardRef((props, ref) => (\n  <FacebookContext.Consumer>\n    {({ handleInit, isReady, api }) => (\n      <Initialize\n        {...props}\n        handleInit={handleInit}\n        isReady={isReady}\n        api={api}\n        ref={ref}\n      />\n    )}\n  </FacebookContext.Consumer>\n));\n"],"file":"Initialize.js"}
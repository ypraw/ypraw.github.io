{"version":3,"sources":["../src/Initialize.jsx"],"names":["Initialize","componentDidMount","$isMounted","prepare","componentWillUnmount","props","onReady","handleInit","api","render","children","isReady","childrenProps","Component","undefined","ref"],"mappings":";;;;;;;;;;;;;;;;;AACA;;AACA;;IAUMA,U;;;;;;;;;;;SAMJC,iB,GAAA,6BAAoB;AAClB,SAAKC,UAAL,GAAkB,IAAlB;AACA,SAAKC,OAAL;AACD,G;;SAEDC,oB,GAAA,gCAAuB;AACrB,SAAKF,UAAL,GAAkB,KAAlB;AACD,G;;SAEKC,O,GAAN;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,0BACkC,KAAKE,KADvC,EACUC,OADV,eACUA,OADV,EACmBC,UADnB,eACmBA,UADnB;AAAA;AAAA,8CAEoBA,UAAU,EAF9B;;AAAA;AAEQC,YAAAA,GAFR;;AAGE,gBAAIF,OAAO,IAAI,KAAKJ,UAApB,EAAgC;AAC9BI,cAAAA,OAAO,CAACE,GAAD,CAAP;AACD;;AALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;SAQAC,M,GAAA,kBAAS;AAAA,uBAC4B,KAAKJ,KADjC;AAAA,QACCK,QADD,gBACCA,QADD;AAAA,QACWC,OADX,gBACWA,OADX;AAAA,QACoBH,GADpB,gBACoBA,GADpB;AAGP,QAAMI,aAAa,GAAG;AACpBD,MAAAA,OAAO,EAAPA,OADoB;AAEpBH,MAAAA,GAAG,EAAHA;AAFoB,KAAtB;;AAKA,QAAI,OAAOE,QAAP,KAAoB,UAAxB,EAAoC;AAClC,aAAOA,QAAQ,CAACE,aAAD,CAAf;AACD;;AAED,WAAOF,QAAP;AACD,G;;;EApCsBG,gB;;8BAAnBb,U,kBACkB;AACpBM,EAAAA,OAAO,EAAEQ,SADW;AAEpBN,EAAAA,GAAG,EAAEM;AAFe,C;;eAsCT,uBAAW,UAACT,KAAD,EAAQU,GAAR;AAAA,SACxB,6BAAC,wBAAD,CAAiB,QAAjB,QACG;AAAA,QAAGR,UAAH,QAAGA,UAAH;AAAA,QAAeI,OAAf,QAAeA,OAAf;AAAA,QAAwBH,GAAxB,QAAwBA,GAAxB;AAAA,WACC,6BAAC,UAAD,6BACMH,KADN;AAEE,MAAA,UAAU,EAAEE,UAFd;AAGE,MAAA,OAAO,EAAEI,OAHX;AAIE,MAAA,GAAG,EAAEH,GAJP;AAKE,MAAA,GAAG,EAAEO;AALP,OADD;AAAA,GADH,CADwB;AAAA,CAAX,C","sourcesContent":["// @flow\nimport React, { forwardRef, Component } from 'react';\nimport FacebookContext from './FacebookContext';\n\ntype Props = {\n  children: Function,\n  onReady?: Function,\n  handleInit: Function,\n  isReady: boolean,\n  api?: Object,\n};\n\nclass Initialize extends Component<Props> {\n  static defaultProps = {\n    onReady: undefined,\n    api: undefined,\n  };\n\n  componentDidMount() {\n    this.$isMounted = true;\n    this.prepare();\n  }\n\n  componentWillUnmount() {\n    this.$isMounted = false;\n  }\n\n  async prepare() {\n    const { onReady, handleInit } = this.props;\n    const api = await handleInit();\n    if (onReady && this.$isMounted) {\n      onReady(api);\n    }\n  }\n\n  render() {\n    const { children, isReady, api } = this.props;\n\n    const childrenProps = {\n      isReady,\n      api,\n    };\n\n    if (typeof children === 'function') {\n      return children(childrenProps);\n    }\n\n    return children;\n  }\n}\n\nexport default forwardRef((props, ref) => (\n  <FacebookContext.Consumer>\n    {({ handleInit, isReady, api }) => (\n      <Initialize\n        {...props}\n        handleInit={handleInit}\n        isReady={isReady}\n        api={api}\n        ref={ref}\n      />\n    )}\n  </FacebookContext.Consumer>\n));\n"],"file":"Initialize.js"}
{"version":3,"sources":["../src/Feed.jsx"],"names":["React","Component","forwardRef","getCurrentHref","clearUndefinedProperties","Process","Feed","evn","preventDefault","handleProcess","props","api","link","display","appId","getAppId","redirectURI","from","to","picture","source","name","caption","description","dataRef","ui","method","app_id","redirect_uri","ref","render","children","loading","error","data","handleClick","undefined"],"mappings":"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","sourcesContent":["// @flow\nimport React, { Component, forwardRef } from 'react';\nimport getCurrentHref from './utils/getCurrentHref';\nimport clearUndefinedProperties from './utils/clearUndefinedProperties';\nimport Process from './Process';\n\ntype Props = {\n  children: Function,\n  loading: boolean,\n  handleProcess: Function,\n  data: any,\n  error: Error,\n  appId?: string,\n  redirectURI?: string,\n  display?: string,\n  from?: string,\n  to?: string,\n  link?: string,\n  source?: string,\n  picture?: string, // deprecated\n  name?: string, // deprecated\n  caption?: string, // deprecated\n  description?: string, // deprecated\n  dataRef?: string,\n};\n\nclass Feed extends Component<Props> {\n  static defaultProps = {\n    link: undefined,\n    display: undefined,\n    appId: undefined,\n    redirectURI: undefined,\n    from: undefined,\n    to: undefined,\n    source: undefined,\n    picture: undefined,\n    name: undefined,\n    caption: undefined,\n    description: undefined,\n    dataRef: undefined,\n  };\n\n  handleClick = async (evn) => {\n    evn.preventDefault();\n\n    const { handleProcess } = this.props;\n\n    return handleProcess(async (api) => {\n      const {\n        link = getCurrentHref(),\n        display,\n        appId = api.getAppId(),\n        redirectURI,\n        from,\n        to,\n        picture,\n        source,\n        name,\n        caption,\n        description,\n        dataRef,\n      } = this.props;\n\n      return api.ui(clearUndefinedProperties({\n        method: 'feed',\n        link,\n        display,\n        app_id: appId,\n        redirect_uri: redirectURI,\n        from,\n        to,\n        picture,\n        source,\n        name,\n        caption,\n        description,\n        ref: dataRef,\n      }));\n    });\n  }\n\n  render() {\n    const {\n      children, loading, error, data,\n    } = this.props;\n\n    return children({\n      loading,\n      handleClick: this.handleClick,\n      error,\n      data,\n    });\n  }\n}\n\nexport default forwardRef((props, ref) => (\n  <Process>\n    {({\n      loading, handleProcess, error, data,\n    }) => (\n      <Feed\n        {...props}\n        loading={loading}\n        handleProcess={handleProcess}\n        data={data}\n        error={error}\n        ref={ref}\n      />\n    )}\n  </Process>\n));\n"],"file":"Feed.js"}
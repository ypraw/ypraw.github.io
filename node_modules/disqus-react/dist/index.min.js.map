{"version":3,"sources":["webpack:/webpack/bootstrap bc64bb4d06a0290c84ac","webpack:/external \"React\"","webpack:///src/utils.js","webpack:///src/index.js","webpack:///src/CommentCount.jsx","webpack:///src/CommentEmbed.jsx","webpack:///src/DiscussionEmbed.jsx"],"names":["__webpack_require__","moduleId","installedModules","exports","module","i","l","modules","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","React","insertScript","src","id","parentElement","script","window","document","createElement","async","appendChild","removeScript","getElementById","removeChild","debounce","func","wait","runOnFirstCall","timeout","context","this","args","arguments","callNow","clearTimeout","setTimeout","apply","_CommentCount","_CommentEmbed","_DiscussionEmbed","CommentCount","CommentEmbed","DiscussionEmbed","Disqus","_utils","queueResetCount","DISQUSWIDGETS","getCount","reset","_react2","default","Component","loadInstance","nextProps","props","shortname","nextConfig","config","url","identifier","cleanInstance","doc","body","undefined","className","data-disqus-identifier","data-disqus-url","children","Number","commentId","toString","showParentComment","showMedia","getSrc","width","height","seamless","scrolling","frameBorder","defaultProps","disqus_shortname","DISQUS","reload","getDisqusConfig","disqus_config","error","disqusThread","hasChildNodes","firstChild","page","title","callbacks","onNewComment"],"mappings":"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","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap bc64bb4d06a0290c84ac","module.exports = React;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 0\n// module chunks = 0","export function insertScript(src, id, parentElement) {\n    const script = window.document.createElement('script');\n    script.async = true;\n    script.src = src;\n    script.id = id;\n    parentElement.appendChild(script);\n\n    return script;\n}\n\nexport function removeScript(id, parentElement) {\n    const script = window.document.getElementById(id);\n    if (script)\n        parentElement.removeChild(script);\n}\n\nexport function debounce(func, wait, runOnFirstCall) {\n    let timeout;\n    return function () {\n        const context = this; // eslint-disable-line consistent-this\n        const args = arguments;\n\n        const deferredExecution = function () {\n            timeout = null;\n            if (!runOnFirstCall)\n                func.apply(context, args);\n        };\n\n        const callNow = runOnFirstCall && !timeout;\n\n        window.clearTimeout(timeout);\n        timeout = setTimeout(deferredExecution, wait);\n\n        if (callNow)\n            func.apply(context, args);\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","import { CommentCount } from './CommentCount';\nimport { CommentEmbed } from './CommentEmbed';\nimport { DiscussionEmbed } from './DiscussionEmbed';\n\nexport { CommentCount };\nexport { CommentEmbed };\nexport { DiscussionEmbed };\n\nconst Disqus = {\n    CommentCount,\n    CommentEmbed,\n    DiscussionEmbed,\n};\n\nexport default Disqus;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import React from 'react';\nimport { insertScript, removeScript, debounce } from './utils';\n\nconst queueResetCount = debounce(() => {\n    if (window.DISQUSWIDGETS)\n        window.DISQUSWIDGETS.getCount({ reset: true });\n}, 300, false); // eslint-disable-line no-magic-numbers\n\nexport class CommentCount extends React.Component {\n    componentDidMount() {\n        this.loadInstance();\n    }\n\n    shouldComponentUpdate(nextProps) {\n        if (this.props.shortname !== nextProps.shortname)\n            return true;\n\n        const nextConfig = nextProps.config;\n        const config = this.props.config;\n        if (nextConfig.url === config.url || nextConfig.identifier === config.identifier)\n            return false;\n        return true;\n    }\n\n    componentWillUpdate(nextProps) {\n        if (this.props.shortname !== nextProps.shortname)\n            this.cleanInstance();\n    }\n\n    componentDidUpdate() {\n        this.loadInstance();\n    }\n\n    loadInstance() {\n        const doc = window.document;\n        if (doc.getElementById('dsq-count-scr'))\n            queueResetCount();\n        else\n            insertScript(`https://${this.props.shortname}.disqus.com/count.js`, 'dsq-count-scr', doc.body);\n    }\n\n    cleanInstance() {\n        const body = window.document.body;\n        removeScript('dsq-count-scr', body);\n\n        // count.js only reassigns this window object if it's undefined.\n        window.DISQUSWIDGETS = undefined;\n    }\n\n    render() {\n        return (\n            <span\n                className=\"disqus-comment-count\"\n                data-disqus-identifier={this.props.config.identifier}\n                data-disqus-url={this.props.config.url}\n            >\n                {this.props.children}\n            </span>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/CommentCount.jsx","import React from 'react';\n\nconst RADIX_BASE = 36;\n\nexport class CommentEmbed extends React.Component {\n    getSrc() {\n        const post = Number(this.props.commentId).toString(RADIX_BASE);\n        const parentParam = this.props.showParentComment ? '1' : '0';\n        const mediaParam = this.props.showMedia ? '1' : '0';\n\n        return `https://embed.disqus.com/p/${post}?p=${parentParam}&m=${mediaParam}`;\n    }\n\n    render() {\n        return (\n            <iframe\n                src={this.getSrc()}\n                width={this.props.width}\n                height={this.props.height}\n                seamless=\"seamless\"\n                scrolling=\"no\"\n                frameBorder=\"0\"\n            />\n        );\n    }\n}\n\nCommentEmbed.defaultProps = {\n    showMedia: true,\n    showParentComment: true,\n    width: 420,\n    height: 320,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/CommentEmbed.jsx","import React from 'react';\nimport { insertScript, removeScript } from './utils';\n\nexport class DiscussionEmbed extends React.Component {\n    componentWillMount() {\n        if (typeof window !== 'undefined' && window.disqus_shortname && window.disqus_shortname !== this.props.shortname)\n            this.cleanInstance();\n    }\n\n    componentDidMount() {\n        this.loadInstance();\n    }\n\n    shouldComponentUpdate(nextProps) {\n        if (this.props.shortname !== nextProps.shortname)\n            return true;\n\n        const nextConfig = nextProps.config;\n        const config = this.props.config;\n        if (nextConfig.url === config.url || nextConfig.identifier === config.identifier)\n            return false;\n        return true;\n    }\n\n    componentWillUpdate(nextProps) {\n        if (this.props.shortname !== nextProps.shortname)\n            this.cleanInstance();\n    }\n\n    componentDidUpdate() {\n        this.loadInstance();\n    }\n\n    loadInstance() {\n        const doc = window.document;\n        if (window && window.DISQUS && doc.getElementById('dsq-embed-scr')) {\n            window.DISQUS.reset({\n                reload: true,\n                config: this.getDisqusConfig(this.props.config),\n            });\n        } else {\n            window.disqus_config = this.getDisqusConfig(this.props.config);\n            window.disqus_shortname = this.props.shortname;\n            insertScript(`https://${this.props.shortname}.disqus.com/embed.js`, 'dsq-embed-scr', doc.body);\n        }\n    }\n\n    cleanInstance() {\n        const doc = window.document;\n        removeScript('dsq-embed-scr', doc.body);\n        if (window && window.DISQUS)\n            window.DISQUS.reset({});\n\n        try {\n            delete window.DISQUS;\n        } catch (error) {\n            window.DISQUS = undefined;\n        }\n        const disqusThread = doc.getElementById('disqus_thread');\n        if (disqusThread) {\n            while (disqusThread.hasChildNodes())\n                disqusThread.removeChild(disqusThread.firstChild);\n        }\n    }\n\n    getDisqusConfig(config) {\n        return function () {\n            this.page.identifier = config.identifier;\n            this.page.url = config.url;\n            this.page.title = config.title;\n            this.callbacks.onNewComment = [\n                config.onNewComment,\n            ];\n        };\n    }\n\n    render() {\n        return (\n            <div id=\"disqus_thread\"></div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/DiscussionEmbed.jsx"]}
{"version":3,"sources":["webpack:/webpack/bootstrap 95ee78dcf412803cea17","webpack:/external \"React\"","webpack:///src/utils.js","webpack:///src/index.js","webpack:///src/CommentCount.jsx","webpack:///src/CommentEmbed.jsx","webpack:///src/DiscussionEmbed.jsx"],"names":["__webpack_require__","moduleId","installedModules","exports","module","i","l","modules","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","React","isReactElement","element","_react2","default","isValidElement","Array","isArray","some","insertScript","src","id","parentElement","script","window","document","createElement","async","appendChild","removeScript","getElementById","removeChild","debounce","func","wait","runOnFirstCall","timeout","context","this","args","arguments","callNow","clearTimeout","setTimeout","apply","shallowComparison","currentProps","nextProps","propNames","Set","keys","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","err","return","_CommentCount","_CommentEmbed","_DiscussionEmbed","CommentCount","CommentEmbed","DiscussionEmbed","Disqus","_utils","queueResetCount","DISQUSWIDGETS","getCount","reset","Component","loadInstance","props","shortname","cleanInstance","doc","body","className","data-disqus-identifier","config","identifier","data-disqus-url","url","children","Number","commentId","toString","showParentComment","showMedia","getSrc","width","height","seamless","scrolling","frameBorder","defaultProps","disqus_shortname","DISQUS","reload","getDisqusConfig","disqus_config","error","disqusThread","hasChildNodes","firstChild","page","title","callbacks","onNewComment"],"mappings":"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","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 95ee78dcf412803cea17","module.exports = React;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 0\n// module chunks = 0","import React from 'react';\n\nexport function insertScript(src, id, parentElement) {\n    const script = window.document.createElement('script');\n    script.async = true;\n    script.src = src;\n    script.id = id;\n    parentElement.appendChild(script);\n\n    return script;\n}\n\nexport function removeScript(id, parentElement) {\n    const script = window.document.getElementById(id);\n    if (script)\n        parentElement.removeChild(script);\n}\n\nexport function debounce(func, wait, runOnFirstCall) {\n    let timeout;\n    return function () {\n        const context = this; // eslint-disable-line consistent-this\n        const args = arguments;\n\n        const deferredExecution = function () {\n            timeout = null;\n            if (!runOnFirstCall)\n                func.apply(context, args);\n        };\n\n        const callNow = runOnFirstCall && !timeout;\n\n        window.clearTimeout(timeout);\n        timeout = setTimeout(deferredExecution, wait);\n\n        if (callNow)\n            func.apply(context, args);\n    };\n}\n\nexport function isReactElement(element) {\n    if (React.isValidElement(element)) {\n        return true;\n    } else if (Array.isArray(element)) {\n        return element.some((value) =>\n            React.isValidElement(value)\n        );\n    }\n    return false;\n}\n\nexport function shallowComparison(currentProps, nextProps) {\n    // Perform a comparison of all props, excluding React Elements, to prevent unnecessary updates\n    const propNames = new Set(Object.keys(currentProps), Object.keys(nextProps)); // eslint-disable-line no-undef\n    for (const name of propNames) {\n        if (currentProps[name] !== nextProps[name] && !isReactElement(currentProps[name]))\n            return true;\n    }\n    return false;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","import { CommentCount } from './CommentCount';\nimport { CommentEmbed } from './CommentEmbed';\nimport { DiscussionEmbed } from './DiscussionEmbed';\n\nexport { CommentCount };\nexport { CommentEmbed };\nexport { DiscussionEmbed };\n\nconst Disqus = {\n    CommentCount,\n    CommentEmbed,\n    DiscussionEmbed,\n};\n\nexport default Disqus;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import React from 'react';\nimport { insertScript, removeScript, debounce, shallowComparison } from './utils';\n\nconst queueResetCount = debounce(() => {\n    if (window.DISQUSWIDGETS)\n        window.DISQUSWIDGETS.getCount({ reset: true });\n}, 300, false); // eslint-disable-line no-magic-numbers\n\nexport class CommentCount extends React.Component {\n    componentDidMount() {\n        this.loadInstance();\n    }\n\n    shouldComponentUpdate(nextProps) {\n        if (this.props === nextProps)\n            return false;\n        return shallowComparison(this.props, nextProps);\n    }\n\n    componentWillUpdate(nextProps) {\n        if (this.props.shortname !== nextProps.shortname)\n            this.cleanInstance();\n    }\n\n    componentDidUpdate() {\n        this.loadInstance();\n    }\n\n    loadInstance() {\n        const doc = window.document;\n        if (doc.getElementById('dsq-count-scr'))\n            queueResetCount();\n        else\n            insertScript(`https://${this.props.shortname}.disqus.com/count.js`, 'dsq-count-scr', doc.body);\n    }\n\n    cleanInstance() {\n        const body = window.document.body;\n        removeScript('dsq-count-scr', body);\n\n        // count.js only reassigns this window object if it's undefined.\n        window.DISQUSWIDGETS = undefined;\n    }\n\n    render() {\n        return (\n            <span\n                className=\"disqus-comment-count\"\n                data-disqus-identifier={this.props.config.identifier}\n                data-disqus-url={this.props.config.url}\n            >\n                {this.props.children}\n            </span>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/CommentCount.jsx","import React from 'react';\n\nconst RADIX_BASE = 36;\n\nexport class CommentEmbed extends React.Component {\n    getSrc() {\n        const post = Number(this.props.commentId).toString(RADIX_BASE);\n        const parentParam = this.props.showParentComment ? '1' : '0';\n        const mediaParam = this.props.showMedia ? '1' : '0';\n\n        return `https://embed.disqus.com/p/${post}?p=${parentParam}&m=${mediaParam}`;\n    }\n\n    render() {\n        return (\n            <iframe\n                src={this.getSrc()}\n                width={this.props.width}\n                height={this.props.height}\n                seamless=\"seamless\"\n                scrolling=\"no\"\n                frameBorder=\"0\"\n            />\n        );\n    }\n}\n\nCommentEmbed.defaultProps = {\n    showMedia: true,\n    showParentComment: true,\n    width: 420,\n    height: 320,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/CommentEmbed.jsx","import React from 'react';\nimport { insertScript, removeScript, shallowComparison } from './utils';\n\nexport class DiscussionEmbed extends React.Component {\n    componentWillMount() {\n        if (typeof window !== 'undefined' && window.disqus_shortname &&\n            window.disqus_shortname !== this.props.shortname)\n            this.cleanInstance();\n    }\n\n    componentDidMount() {\n        this.loadInstance();\n    }\n\n    shouldComponentUpdate(nextProps) {\n        if (this.props === nextProps)\n            return false;\n        return shallowComparison(this.props, nextProps);\n    }\n\n    componentWillUpdate(nextProps) {\n        if (this.props.shortname !== nextProps.shortname)\n            this.cleanInstance();\n    }\n\n    componentDidUpdate() {\n        this.loadInstance();\n    }\n\n    loadInstance() {\n        const doc = window.document;\n        if (window && window.DISQUS && doc.getElementById('dsq-embed-scr')) {\n            window.DISQUS.reset({\n                reload: true,\n                config: this.getDisqusConfig(this.props.config),\n            });\n        } else {\n            window.disqus_config = this.getDisqusConfig(this.props.config);\n            window.disqus_shortname = this.props.shortname;\n            insertScript(`https://${this.props.shortname}.disqus.com/embed.js`, 'dsq-embed-scr', doc.body);\n        }\n    }\n\n    cleanInstance() {\n        const doc = window.document;\n        removeScript('dsq-embed-scr', doc.body);\n        if (window && window.DISQUS)\n            window.DISQUS.reset({});\n\n        try {\n            delete window.DISQUS;\n        } catch (error) {\n            window.DISQUS = undefined;\n        }\n        const disqusThread = doc.getElementById('disqus_thread');\n        if (disqusThread) {\n            while (disqusThread.hasChildNodes())\n                disqusThread.removeChild(disqusThread.firstChild);\n        }\n    }\n\n    getDisqusConfig(config) {\n        return function () {\n            this.page.identifier = config.identifier;\n            this.page.url = config.url;\n            this.page.title = config.title;\n            this.callbacks.onNewComment = [\n                config.onNewComment,\n            ];\n        };\n    }\n\n    render() {\n        return (\n            <div id=\"disqus_thread\"></div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/DiscussionEmbed.jsx"]}
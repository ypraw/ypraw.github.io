{"version":3,"sources":["webpack://ReactDisqus/webpack/bootstrap","webpack://ReactDisqus/./node_modules/prop-types/index.js","webpack://ReactDisqus/external \"React\"","webpack://ReactDisqus/./node_modules/prop-types/factoryWithThrowingShims.js","webpack://ReactDisqus/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://ReactDisqus/./src/utils.js","webpack://ReactDisqus/./src/CommentCount.jsx","webpack://ReactDisqus/./src/CommentEmbed.jsx","webpack://ReactDisqus/./src/DiscussionEmbed.jsx","webpack://ReactDisqus/./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","React","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","props","propName","componentName","location","propFullName","secret","err","Error","getShim","isRequired","ReactPropTypes","array","bool","func","number","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","insertScript","src","id","parentElement","script","window","document","createElement","async","appendChild","removeScript","getElementById","removeChild","shallowComparison","currentProps","nextProps","Set","keys","isValidElement","Array","isArray","some","wait","runOnFirstCall","timeout","queueResetCount","DISQUSWIDGETS","getCount","reset","context","this","args","arguments","deferredExecution","apply","callNow","clearTimeout","setTimeout","CommentCount","loadInstance","prevProps","shortname","cleanInstance","doc","body","undefined","className","data-disqus-identifier","config","identifier","data-disqus-url","url","children","Component","propTypes","title","CommentEmbed","post","Number","commentId","toString","parentParam","showParentComment","mediaParam","showMedia","getSrc","width","height","seamless","scrolling","frameBorder","defaultProps","callbacks","DiscussionEmbed","disqus_shortname","DISQUS","reload","getDisqusConfig","disqus_config","error","disqusThread","hasChildNodes","firstChild","page","category_id","categoryID","remote_auth_s3","remoteAuthS3","api_key","apiKey","language","forEach","callbackName","preData","preInit","onInit","onReady","afterRender","preReset","onIdentify","beforeComment","onNewComment","onPaginate","Disqus"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","module.exports = React;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","import React from 'react';\n\nexport function insertScript(src, id, parentElement) {\n    const script = window.document.createElement('script');\n    script.async = true;\n    script.src = src;\n    script.id = id;\n    parentElement.appendChild(script);\n\n    return script;\n}\n\nexport function removeScript(id, parentElement) {\n    const script = window.document.getElementById(id);\n    if (script)\n        parentElement.removeChild(script);\n}\n\nexport function debounce(func, wait, runOnFirstCall) {\n    let timeout;\n    return function () {\n        const context = this; // eslint-disable-line consistent-this\n        const args = arguments;\n\n        const deferredExecution = function () {\n            timeout = null;\n            if (!runOnFirstCall)\n                func.apply(context, args);\n        };\n\n        const callNow = runOnFirstCall && !timeout;\n\n        window.clearTimeout(timeout);\n        timeout = setTimeout(deferredExecution, wait);\n\n        if (callNow)\n            func.apply(context, args);\n    };\n}\n\nexport function isReactElement(element) {\n    if (React.isValidElement(element)) {\n        return true;\n    } else if (Array.isArray(element)) {\n        return element.some((value) =>\n            React.isValidElement(value)\n        );\n    }\n    return false;\n}\n\nexport function shallowComparison(currentProps, nextProps) {\n    // Perform a comparison of all props, excluding React Elements, to prevent unnecessary updates\n    const propNames = new Set(Object.keys(currentProps), Object.keys(nextProps)); // eslint-disable-line no-undef\n    for (const name of propNames) {\n        if (typeof currentProps[name] === 'object') {\n            if (shallowComparison(currentProps[name], nextProps[name]))\n                return true;\n        } else if (currentProps[name] !== nextProps[name] && !isReactElement(currentProps[name])) {\n            return true;\n        }\n    }\n    return false;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { insertScript, removeScript, debounce, shallowComparison } from './utils';\n\nconst queueResetCount = debounce(() => {\n    if (window.DISQUSWIDGETS)\n        window.DISQUSWIDGETS.getCount({ reset: true });\n}, 300, false); // eslint-disable-line no-magic-numbers\n\nexport class CommentCount extends React.Component {\n    componentDidMount() {\n        this.loadInstance();\n    }\n\n    shouldComponentUpdate(nextProps) {\n        if (this.props === nextProps)\n            return false;\n        return shallowComparison(this.props, nextProps);\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.shortname !== prevProps.shortname)\n            this.cleanInstance();\n        this.loadInstance();\n    }\n\n    loadInstance() {\n        const doc = window.document;\n        if (doc.getElementById('dsq-count-scr'))\n            queueResetCount();\n        else\n            insertScript(`https://${this.props.shortname}.disqus.com/count.js`, 'dsq-count-scr', doc.body);\n    }\n\n    cleanInstance() {\n        const body = window.document.body;\n        removeScript('dsq-count-scr', body);\n\n        // count.js only reassigns this window object if it's undefined.\n        window.DISQUSWIDGETS = undefined;\n    }\n\n    render() {\n        return (\n            <span\n                className=\"disqus-comment-count\"\n                data-disqus-identifier={this.props.config.identifier}\n                data-disqus-url={this.props.config.url}\n            >\n                {this.props.children}\n            </span>\n        );\n    }\n}\n\nCommentCount.propTypes = {\n    shortname: PropTypes.string.isRequired,\n    config: PropTypes.shape({\n        identifier: PropTypes.string,\n        url: PropTypes.string,\n        title: PropTypes.string,\n    }).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst RADIX_BASE = 36;\n\nexport class CommentEmbed extends React.Component {\n    getSrc() {\n        const post = Number(this.props.commentId).toString(RADIX_BASE);\n        const parentParam = this.props.showParentComment ? '1' : '0';\n        const mediaParam = this.props.showMedia ? '1' : '0';\n\n        return `https://embed.disqus.com/p/${post}?p=${parentParam}&m=${mediaParam}`;\n    }\n\n    render() {\n        return (\n            <iframe\n                src={this.getSrc()}\n                width={this.props.width}\n                height={this.props.height}\n                seamless=\"seamless\"\n                scrolling=\"no\"\n                frameBorder=\"0\"\n            />\n        );\n    }\n}\n\nCommentEmbed.defaultProps = {\n    showMedia: true,\n    showParentComment: true,\n    width: 420,\n    height: 320,\n};\n\nCommentEmbed.propTypes = {\n    commentId: PropTypes.string.isRequired,\n    showMedia: PropTypes.bool,\n    showParentComment: PropTypes.bool,\n    width: PropTypes.number,\n    height: PropTypes.number,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { insertScript, removeScript, shallowComparison } from './utils';\n\nconst callbacks = [\n    'preData',\n    'preInit',\n    'onInit',\n    'onReady',\n    'afterRender',\n    'preReset',\n    'onIdentify',\n    'beforeComment',\n    'onNewComment',\n    'onPaginate',\n];\n\nexport class DiscussionEmbed extends React.Component {\n\n    componentDidMount() {\n        if (typeof window !== 'undefined' && window.disqus_shortname &&\n            window.disqus_shortname !== this.props.shortname)\n            this.cleanInstance();\n        this.loadInstance();\n    }\n\n    shouldComponentUpdate(nextProps) {\n        if (this.props === nextProps)\n            return false;\n        return shallowComparison(this.props, nextProps);\n    }\n\n    componentDidUpdate(nextProps) {\n        if (this.props.shortname !== nextProps.shortname)\n            this.cleanInstance();\n        this.loadInstance();\n    }\n\n    loadInstance() {\n        const doc = window.document;\n        if (window && window.DISQUS && doc.getElementById('dsq-embed-scr')) {\n            window.DISQUS.reset({\n                reload: true,\n                config: this.getDisqusConfig(this.props.config),\n            });\n        } else {\n            window.disqus_config = this.getDisqusConfig(this.props.config);\n            window.disqus_shortname = this.props.shortname;\n            insertScript(`https://${this.props.shortname}.disqus.com/embed.js`, 'dsq-embed-scr', doc.body);\n        }\n    }\n\n    cleanInstance() {\n        const doc = window.document;\n        removeScript('dsq-embed-scr', doc.body);\n        if (window && window.DISQUS)\n            window.DISQUS.reset({});\n\n        try {\n            delete window.DISQUS;\n        } catch (error) {\n            window.DISQUS = undefined;\n        }\n        const disqusThread = doc.getElementById('disqus_thread');\n        if (disqusThread) {\n            while (disqusThread.hasChildNodes())\n                disqusThread.removeChild(disqusThread.firstChild);\n        }\n    }\n\n    getDisqusConfig(config) {\n        return function () {\n            this.page.identifier = config.identifier;\n            this.page.url = config.url;\n            this.page.title = config.title;\n            this.page.category_id = config.categoryID;\n            this.page.remote_auth_s3 = config.remoteAuthS3;\n            this.page.api_key = config.apiKey;\n            if (config.language)\n                this.language = config.language;\n\n            callbacks.forEach(callbackName => {\n                this.callbacks[callbackName] = [\n                    config[callbackName],\n                ];\n            });\n        };\n    }\n\n    render() {\n        return (\n            <div {...this.props} id=\"disqus_thread\"></div>\n        );\n    }\n}\n\nDiscussionEmbed.propTypes = {\n    shortname: PropTypes.string.isRequired,\n    config: PropTypes.shape({\n        identifier: PropTypes.string,\n        url: PropTypes.string,\n        title: PropTypes.string,\n        language: PropTypes.string,\n        categoryID: PropTypes.string,\n        remoteAuthS3: PropTypes.string,\n        apiKey: PropTypes.string,\n        preData: PropTypes.func,\n        preInit: PropTypes.func,\n        onInit: PropTypes.func,\n        onReady: PropTypes.func,\n        afterRender: PropTypes.func,\n        preReset: PropTypes.func,\n        onIdentify: PropTypes.func,\n        beforeComment: PropTypes.func,\n        onNewComment: PropTypes.func,\n        onPaginate: PropTypes.func,\n    }).isRequired,\n};\n","import { CommentCount } from './CommentCount';\nimport { CommentEmbed } from './CommentEmbed';\nimport { DiscussionEmbed } from './DiscussionEmbed';\n\nexport { CommentCount };\nexport { CommentEmbed };\nexport { DiscussionEmbed };\n\nconst Disqus = {\n    CommentCount,\n    CommentEmbed,\n    DiscussionEmbed,\n};\n\nexport default Disqus;\n"],"sourceRoot":""}
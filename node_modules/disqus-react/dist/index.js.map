{"version":3,"sources":["webpack:///webpack/bootstrap 95ee78dcf412803cea17","webpack:///external \"React\"","webpack:///./src/utils.js","webpack:///./src/index.js","webpack:///./src/CommentCount.jsx","webpack:///./src/CommentEmbed.jsx","webpack:///./src/DiscussionEmbed.jsx"],"names":["insertScript","removeScript","debounce","isReactElement","shallowComparison","src","id","parentElement","script","window","document","createElement","async","appendChild","getElementById","removeChild","func","wait","runOnFirstCall","timeout","context","args","arguments","deferredExecution","apply","callNow","clearTimeout","setTimeout","element","isValidElement","Array","isArray","some","value","currentProps","nextProps","propNames","Set","Object","keys","name","CommentCount","CommentEmbed","DiscussionEmbed","Disqus","queueResetCount","DISQUSWIDGETS","getCount","reset","loadInstance","props","shortname","cleanInstance","doc","body","undefined","config","identifier","url","children","Component","RADIX_BASE","post","Number","commentId","toString","parentParam","showParentComment","mediaParam","showMedia","getSrc","width","height","defaultProps","disqus_shortname","DISQUS","reload","getDisqusConfig","disqus_config","error","disqusThread","hasChildNodes","firstChild","page","title","callbacks","onNewComment"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 95ee78dcf412803cea17","module.exports = React;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 0\n// module chunks = 0","import React from 'react';\n\nexport function insertScript(src, id, parentElement) {\n    const script = window.document.createElement('script');\n    script.async = true;\n    script.src = src;\n    script.id = id;\n    parentElement.appendChild(script);\n\n    return script;\n}\n\nexport function removeScript(id, parentElement) {\n    const script = window.document.getElementById(id);\n    if (script)\n        parentElement.removeChild(script);\n}\n\nexport function debounce(func, wait, runOnFirstCall) {\n    let timeout;\n    return function () {\n        const context = this; // eslint-disable-line consistent-this\n        const args = arguments;\n\n        const deferredExecution = function () {\n            timeout = null;\n            if (!runOnFirstCall)\n                func.apply(context, args);\n        };\n\n        const callNow = runOnFirstCall && !timeout;\n\n        window.clearTimeout(timeout);\n        timeout = setTimeout(deferredExecution, wait);\n\n        if (callNow)\n            func.apply(context, args);\n    };\n}\n\nexport function isReactElement(element) {\n    if (React.isValidElement(element)) {\n        return true;\n    } else if (Array.isArray(element)) {\n        return element.some((value) =>\n            React.isValidElement(value)\n        );\n    }\n    return false;\n}\n\nexport function shallowComparison(currentProps, nextProps) {\n    // Perform a comparison of all props, excluding React Elements, to prevent unnecessary updates\n    const propNames = new Set(Object.keys(currentProps), Object.keys(nextProps)); // eslint-disable-line no-undef\n    for (const name of propNames) {\n        if (currentProps[name] !== nextProps[name] && !isReactElement(currentProps[name]))\n            return true;\n    }\n    return false;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","import { CommentCount } from './CommentCount';\nimport { CommentEmbed } from './CommentEmbed';\nimport { DiscussionEmbed } from './DiscussionEmbed';\n\nexport { CommentCount };\nexport { CommentEmbed };\nexport { DiscussionEmbed };\n\nconst Disqus = {\n    CommentCount,\n    CommentEmbed,\n    DiscussionEmbed,\n};\n\nexport default Disqus;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import React from 'react';\nimport { insertScript, removeScript, debounce, shallowComparison } from './utils';\n\nconst queueResetCount = debounce(() => {\n    if (window.DISQUSWIDGETS)\n        window.DISQUSWIDGETS.getCount({ reset: true });\n}, 300, false); // eslint-disable-line no-magic-numbers\n\nexport class CommentCount extends React.Component {\n    componentDidMount() {\n        this.loadInstance();\n    }\n\n    shouldComponentUpdate(nextProps) {\n        if (this.props === nextProps)\n            return false;\n        return shallowComparison(this.props, nextProps);\n    }\n\n    componentWillUpdate(nextProps) {\n        if (this.props.shortname !== nextProps.shortname)\n            this.cleanInstance();\n    }\n\n    componentDidUpdate() {\n        this.loadInstance();\n    }\n\n    loadInstance() {\n        const doc = window.document;\n        if (doc.getElementById('dsq-count-scr'))\n            queueResetCount();\n        else\n            insertScript(`https://${this.props.shortname}.disqus.com/count.js`, 'dsq-count-scr', doc.body);\n    }\n\n    cleanInstance() {\n        const body = window.document.body;\n        removeScript('dsq-count-scr', body);\n\n        // count.js only reassigns this window object if it's undefined.\n        window.DISQUSWIDGETS = undefined;\n    }\n\n    render() {\n        return (\n            <span\n                className=\"disqus-comment-count\"\n                data-disqus-identifier={this.props.config.identifier}\n                data-disqus-url={this.props.config.url}\n            >\n                {this.props.children}\n            </span>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/CommentCount.jsx","import React from 'react';\n\nconst RADIX_BASE = 36;\n\nexport class CommentEmbed extends React.Component {\n    getSrc() {\n        const post = Number(this.props.commentId).toString(RADIX_BASE);\n        const parentParam = this.props.showParentComment ? '1' : '0';\n        const mediaParam = this.props.showMedia ? '1' : '0';\n\n        return `https://embed.disqus.com/p/${post}?p=${parentParam}&m=${mediaParam}`;\n    }\n\n    render() {\n        return (\n            <iframe\n                src={this.getSrc()}\n                width={this.props.width}\n                height={this.props.height}\n                seamless=\"seamless\"\n                scrolling=\"no\"\n                frameBorder=\"0\"\n            />\n        );\n    }\n}\n\nCommentEmbed.defaultProps = {\n    showMedia: true,\n    showParentComment: true,\n    width: 420,\n    height: 320,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/CommentEmbed.jsx","import React from 'react';\nimport { insertScript, removeScript, shallowComparison } from './utils';\n\nexport class DiscussionEmbed extends React.Component {\n    componentWillMount() {\n        if (typeof window !== 'undefined' && window.disqus_shortname &&\n            window.disqus_shortname !== this.props.shortname)\n            this.cleanInstance();\n    }\n\n    componentDidMount() {\n        this.loadInstance();\n    }\n\n    shouldComponentUpdate(nextProps) {\n        if (this.props === nextProps)\n            return false;\n        return shallowComparison(this.props, nextProps);\n    }\n\n    componentWillUpdate(nextProps) {\n        if (this.props.shortname !== nextProps.shortname)\n            this.cleanInstance();\n    }\n\n    componentDidUpdate() {\n        this.loadInstance();\n    }\n\n    loadInstance() {\n        const doc = window.document;\n        if (window && window.DISQUS && doc.getElementById('dsq-embed-scr')) {\n            window.DISQUS.reset({\n                reload: true,\n                config: this.getDisqusConfig(this.props.config),\n            });\n        } else {\n            window.disqus_config = this.getDisqusConfig(this.props.config);\n            window.disqus_shortname = this.props.shortname;\n            insertScript(`https://${this.props.shortname}.disqus.com/embed.js`, 'dsq-embed-scr', doc.body);\n        }\n    }\n\n    cleanInstance() {\n        const doc = window.document;\n        removeScript('dsq-embed-scr', doc.body);\n        if (window && window.DISQUS)\n            window.DISQUS.reset({});\n\n        try {\n            delete window.DISQUS;\n        } catch (error) {\n            window.DISQUS = undefined;\n        }\n        const disqusThread = doc.getElementById('disqus_thread');\n        if (disqusThread) {\n            while (disqusThread.hasChildNodes())\n                disqusThread.removeChild(disqusThread.firstChild);\n        }\n    }\n\n    getDisqusConfig(config) {\n        return function () {\n            this.page.identifier = config.identifier;\n            this.page.url = config.url;\n            this.page.title = config.title;\n            this.callbacks.onNewComment = [\n                config.onNewComment,\n            ];\n        };\n    }\n\n    render() {\n        return (\n            <div id=\"disqus_thread\"></div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/DiscussionEmbed.jsx"],"sourceRoot":""}
{"version":3,"sources":["../../src/joi-schemas/joi.js"],"names":["Joi","require","stripTrailingSlash","chain","replace","gatsbyConfigSchema","object","keys","__experimentalThemes","array","polyfill","boolean","assetPrefix","string","uri","allowRelative","pathPrefix","relativeOnly","siteMetadata","siteUrl","unknown","mapping","plugins","proxy","prefix","required","url","developMiddleware","func","when","then","error","Error","pageSchema","path","matchPath","component","componentChunkName","context","pluginCreator___NODE","pluginCreatorId","nodeSchema","id","children","items","forbidden","parent","allow","fields","internal","contentDigest","mediaType","type","owner","fieldOwners","content","description","ignoreType"],"mappings":"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","sourcesContent":["const Joi = require(`joi`)\n\nconst stripTrailingSlash = chain => chain.replace(/(\\w)\\/+$/, `$1`)\n\nexport const gatsbyConfigSchema = Joi.object()\n  .keys({\n    __experimentalThemes: Joi.array(),\n    polyfill: Joi.boolean(),\n    assetPrefix: stripTrailingSlash(\n      Joi.string().uri({\n        allowRelative: true,\n      })\n    ),\n    pathPrefix: stripTrailingSlash(\n      Joi.string().uri({\n        allowRelative: true,\n        relativeOnly: true,\n      })\n    ),\n    siteMetadata: Joi.object({\n      siteUrl: stripTrailingSlash(Joi.string()).uri(),\n    }).unknown(),\n    mapping: Joi.object(),\n    plugins: Joi.array(),\n    proxy: Joi.object().keys({\n      prefix: Joi.string().required(),\n      url: Joi.string().required(),\n    }),\n    developMiddleware: Joi.func(),\n  })\n  // throws when both assetPrefix and pathPrefix are defined\n  .when(\n    Joi.object({\n      assetPrefix: Joi.string().uri({\n        allowRelative: true,\n        relativeOnly: true,\n      }),\n      pathPrefix: Joi.string().uri({\n        allowRelative: true,\n        relativeOnly: true,\n      }),\n    }),\n    {\n      then: Joi.object({\n        assetPrefix: Joi.string()\n          .uri({\n            allowRelative: false,\n          })\n          .error(\n            new Error(\n              `assetPrefix must be an absolute URI when used with pathPrefix`\n            )\n          ),\n      }),\n    }\n  )\n\nexport const pageSchema = Joi.object()\n  .keys({\n    path: Joi.string().required(),\n    matchPath: Joi.string(),\n    component: Joi.string().required(),\n    componentChunkName: Joi.string().required(),\n    context: Joi.object(),\n    pluginCreator___NODE: Joi.string(),\n    pluginCreatorId: Joi.string(),\n  })\n  .unknown()\n\nexport const nodeSchema = Joi.object()\n  .keys({\n    id: Joi.string().required(),\n    children: Joi.array().items(Joi.string(), Joi.object().forbidden()),\n    parent: Joi.string().allow(null),\n    fields: Joi.object(),\n    internal: Joi.object()\n      .keys({\n        contentDigest: Joi.string().required(),\n        mediaType: Joi.string(),\n        type: Joi.string().required(),\n        owner: Joi.string().required(),\n        fieldOwners: Joi.object(),\n        content: Joi.string().allow(``),\n        description: Joi.string(),\n        ignoreType: Joi.boolean(),\n      })\n      .unknown({\n        allow: false,\n      }), // Don't allow non-standard fields\n  })\n  .unknown()\n"],"file":"joi.js"}
/*! React InstantSearch 5.7.0 | Â© Algolia, inc. | https://github.com/algolia/react-instantsearch */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t(((e=e||self).ReactInstantSearch=e.ReactInstantSearch||{},e.ReactInstantSearch.Connectors={}),e.React)}(this,function(e,v){"use strict";var m="default"in v?v.default:v;function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e){return(y="function"==typeof Symbol&&"symbol"===t(Symbol.iterator)?function(e){return t(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var n="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}var a=r,o=i;function s(t){if(a===setTimeout)return setTimeout(t,0);if((a===r||!a)&&setTimeout)return a=setTimeout,setTimeout(t,0);try{return a(t,0)}catch(e){try{return a.call(null,t,0)}catch(e){return a.call(this,t,0)}}}"function"==typeof n.setTimeout&&(a=setTimeout),"function"==typeof n.clearTimeout&&(o=clearTimeout);var c,u=[],f=!1,l=-1;function h(){f&&c&&(f=!1,c.length?u=c.concat(u):l=-1,u.length&&p())}function p(){if(!f){var e=s(h);f=!0;for(var t=u.length;t;){for(c=u,u=[];++l<t;)c&&c[l].run();l=-1,t=u.length}c=null,f=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===i||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(e)}}function d(e,t){this.fun=e,this.array=t}d.prototype.run=function(){this.fun.apply(null,this.array)};function x(){}var j=x,P=x,w=x,S=x,O=x,A=x,E=x;var T=n.performance||{},N=T.now||T.mozNow||T.msNow||T.oNow||T.webkitNow||function(){return(new Date).getTime()};var I=new Date;var H={nextTick:function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||f||s(p)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:j,addListener:P,once:w,off:S,removeListener:O,removeAllListeners:A,emit:E,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*N.call(T),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-I)/1e3}},D="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Q(e,t){return e(t={exports:{}},t.exports),t.exports}var C=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}})()&&Object.assign;function M(){}var k=Q(function(e){e.exports=function(){function e(e,t,n,r,i,a){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==a){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=M,n.PropTypes=n}()});function q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){_(t,e,n[e])})}return t}var U=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var z=function(){this.__data__=[],this.size=0};var V=function(e,t){return e===t||e!=e&&t!=t};var W=function(e,t){for(var n=e.length;n--;)if(V(e[n][0],t))return n;return-1},$=Array.prototype.splice;var J=function(e){var t=this.__data__,n=W(t,e);return!(n<0||(n==t.length-1?t.pop():$.call(t,n,1),--this.size,0))};var Y=function(e){var t=this.__data__,n=W(t,e);return n<0?void 0:t[n][1]};var G=function(e){return-1<W(this.__data__,e)};var Z=function(e,t){var n=this.__data__,r=W(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function K(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}K.prototype.clear=z,K.prototype.delete=J,K.prototype.get=Y,K.prototype.has=G,K.prototype.set=Z;var X=K;var ee=function(){this.__data__=new X,this.size=0};var te=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var ne=function(e){return this.__data__.get(e)};var re=function(e){return this.__data__.has(e)},ie="object"==typeof D&&D&&D.Object===Object&&D,ae="object"==typeof self&&self&&self.Object===Object&&self,oe=ie||ae||Function("return this")(),se=oe.Symbol,ce=Object.prototype,ue=ce.hasOwnProperty,fe=ce.toString,le=se?se.toStringTag:void 0;var he=function(e){var t=ue.call(e,le),n=e[le];try{var r=!(e[le]=void 0)}catch(e){}var i=fe.call(e);return r&&(t?e[le]=n:delete e[le]),i},pe=Object.prototype.toString;var de=function(e){return pe.call(e)},ve=se?se.toStringTag:void 0;var me=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ve&&ve in Object(e)?he(e):de(e)};var ge=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var ye,be=function(e){if(!ge(e))return!1;var t=me(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Re=oe["__core-js_shared__"],Fe=(ye=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||""))?"Symbol(src)_1."+ye:"";var _e=function(e){return!!Fe&&Fe in e},xe=Function.prototype.toString;var je=function(e){if(null!=e){try{return xe.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Pe=/^\[object .+?Constructor\]$/,we=Function.prototype,Se=Object.prototype,Oe=we.toString,Ae=Se.hasOwnProperty,Ee=RegExp("^"+Oe.call(Ae).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Te=function(e){return!(!ge(e)||_e(e))&&(be(e)?Ee:Pe).test(je(e))};var Ne=function(e,t){return null==e?void 0:e[t]};var Ie=function(e,t){var n=Ne(e,t);return Te(n)?n:void 0},He=Ie(oe,"Map"),De=Ie(Object,"create");var Qe=function(){this.__data__=De?De(null):{},this.size=0};var Ce=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Le=Object.prototype.hasOwnProperty;var Be=function(e){var t=this.__data__;if(De){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Le.call(t,e)?t[e]:void 0},Me=Object.prototype.hasOwnProperty;var ke=function(e){var t=this.__data__;return De?void 0!==t[e]:Me.call(t,e)};var qe=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=De&&void 0===t?"__lodash_hash_undefined__":t,this};function Ue(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ue.prototype.clear=Qe,Ue.prototype.delete=Ce,Ue.prototype.get=Be,Ue.prototype.has=ke,Ue.prototype.set=qe;var ze=Ue;var Ve=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var We=function(e,t){var n=e.__data__;return Ve(t)?n["string"==typeof t?"string":"hash"]:n.map};var $e=function(e){var t=We(this,e).delete(e);return this.size-=t?1:0,t};var Je=function(e){return We(this,e).get(e)};var Ye=function(e){return We(this,e).has(e)};var Ge=function(e,t){var n=We(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Ze(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ze.prototype.clear=function(){this.size=0,this.__data__={hash:new ze,map:new(He||X),string:new ze}},Ze.prototype.delete=$e,Ze.prototype.get=Je,Ze.prototype.has=Ye,Ze.prototype.set=Ge;var Ke=Ze;var Xe=function(e,t){var n=this.__data__;if(n instanceof X){var r=n.__data__;if(!He||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ke(r)}return n.set(e,t),this.size=n.size,this};function et(e){var t=this.__data__=new X(e);this.size=t.size}et.prototype.clear=ee,et.prototype.delete=te,et.prototype.get=ne,et.prototype.has=re,et.prototype.set=Xe;var tt=et;var nt=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},rt=function(){try{var e=Ie(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var it=function(e,t,n){"__proto__"==t&&rt?rt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},at=Object.prototype.hasOwnProperty;var ot=function(e,t,n){var r=e[t];at.call(e,t)&&V(r,n)&&(void 0!==n||t in e)||it(e,t,n)};var st=function(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),i?it(n,s,c):ot(n,s,c)}return n};var ct=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var ut=function(e){return null!=e&&"object"==typeof e};var ft=function(e){return ut(e)&&"[object Arguments]"==me(e)},lt=Object.prototype,ht=lt.hasOwnProperty,pt=lt.propertyIsEnumerable,dt=ft(function(){return arguments}())?ft:function(e){return ut(e)&&ht.call(e,"callee")&&!pt.call(e,"callee")},vt=Array.isArray;var mt=function(){return!1},gt=Q(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?oe.Buffer:void 0,a=(i?i.isBuffer:void 0)||mt;e.exports=a}),yt=/^(?:0|[1-9]\d*)$/;var bt=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&yt.test(e))&&-1<e&&e%1==0&&e<t};var Rt=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991},Ft={};Ft["[object Float32Array]"]=Ft["[object Float64Array]"]=Ft["[object Int8Array]"]=Ft["[object Int16Array]"]=Ft["[object Int32Array]"]=Ft["[object Uint8Array]"]=Ft["[object Uint8ClampedArray]"]=Ft["[object Uint16Array]"]=Ft["[object Uint32Array]"]=!0,Ft["[object Arguments]"]=Ft["[object Array]"]=Ft["[object ArrayBuffer]"]=Ft["[object Boolean]"]=Ft["[object DataView]"]=Ft["[object Date]"]=Ft["[object Error]"]=Ft["[object Function]"]=Ft["[object Map]"]=Ft["[object Number]"]=Ft["[object Object]"]=Ft["[object RegExp]"]=Ft["[object Set]"]=Ft["[object String]"]=Ft["[object WeakMap]"]=!1;var _t=function(e){return ut(e)&&Rt(e.length)&&!!Ft[me(e)]};var xt=function(t){return function(e){return t(e)}},jt=Q(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n&&ie.process,a=function(){try{var e=r&&r.require&&r.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=a}),Pt=jt&&jt.isTypedArray,wt=Pt?xt(Pt):_t,St=Object.prototype.hasOwnProperty;var Ot=function(e,t){var n=vt(e),r=!n&&dt(e),i=!n&&!r&&gt(e),a=!n&&!r&&!i&&wt(e),o=n||r||i||a,s=o?ct(e.length,String):[],c=s.length;for(var u in e)!t&&!St.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||bt(u,c))||s.push(u);return s},At=Object.prototype;var Et=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||At)};var Tt=function(t,n){return function(e){return t(n(e))}},Nt=Tt(Object.keys,Object),It=Object.prototype.hasOwnProperty;var Ht=function(e){if(!Et(e))return Nt(e);var t=[];for(var n in Object(e))It.call(e,n)&&"constructor"!=n&&t.push(n);return t};var Dt=function(e){return null!=e&&Rt(e.length)&&!be(e)};var Qt=function(e){return Dt(e)?Ot(e):Ht(e)};var Ct=function(e,t){return e&&st(t,Qt(t),e)};var Lt=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},Bt=Object.prototype.hasOwnProperty;var Mt=function(e){if(!ge(e))return Lt(e);var t=Et(e),n=[];for(var r in e)("constructor"!=r||!t&&Bt.call(e,r))&&n.push(r);return n};var kt=function(e){return Dt(e)?Ot(e,!0):Mt(e)};var qt=function(e,t){return e&&st(t,kt(t),e)},Ut=Q(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?oe.Buffer:void 0,a=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}});var zt=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var Vt=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var Wt=function(){return[]},$t=Object.prototype.propertyIsEnumerable,Jt=Object.getOwnPropertySymbols,Yt=Jt?function(t){return null==t?[]:(t=Object(t),Vt(Jt(t),function(e){return $t.call(t,e)}))}:Wt;var Gt=function(e,t){return st(e,Yt(e),t)};var Zt=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Kt=Tt(Object.getPrototypeOf,Object),Xt=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Zt(t,Yt(e)),e=Kt(e);return t}:Wt;var en=function(e,t){return st(e,Xt(e),t)};var tn=function(e,t,n){var r=t(e);return vt(e)?r:Zt(r,n(e))};var nn=function(e){return tn(e,Qt,Yt)};var rn=function(e){return tn(e,kt,Xt)},an=Ie(oe,"DataView"),on=Ie(oe,"Promise"),sn=Ie(oe,"Set"),cn=Ie(oe,"WeakMap"),un="[object Map]",fn="[object Promise]",ln="[object Set]",hn="[object WeakMap]",pn="[object DataView]",dn=je(an),vn=je(He),mn=je(on),gn=je(sn),yn=je(cn),bn=me;(an&&bn(new an(new ArrayBuffer(1)))!=pn||He&&bn(new He)!=un||on&&bn(on.resolve())!=fn||sn&&bn(new sn)!=ln||cn&&bn(new cn)!=hn)&&(bn=function(e){var t=me(e),n="[object Object]"==t?e.constructor:void 0,r=n?je(n):"";if(r)switch(r){case dn:return pn;case vn:return un;case mn:return fn;case gn:return ln;case yn:return hn}return t});var Rn=bn,Fn=Object.prototype.hasOwnProperty;var _n=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Fn.call(e,"index")&&(n.index=e.index,n.input=e.input),n},xn=oe.Uint8Array;var jn=function(e){var t=new e.constructor(e.byteLength);return new xn(t).set(new xn(e)),t};var Pn=function(e,t){var n=t?jn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},wn=/\w*$/;var Sn=function(e){var t=new e.constructor(e.source,wn.exec(e));return t.lastIndex=e.lastIndex,t},On=se?se.prototype:void 0,An=On?On.valueOf:void 0;var En=function(e){return An?Object(An.call(e)):{}};var Tn=function(e,t){var n=t?jn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var Nn=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return jn(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return Pn(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Tn(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return Sn(e);case"[object Set]":return new r;case"[object Symbol]":return En(e)}},In=Object.create,Hn=function(){function n(){}return function(e){if(!ge(e))return{};if(In)return In(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();var Dn=function(e){return"function"!=typeof e.constructor||Et(e)?{}:Hn(Kt(e))};var Qn=function(e){return ut(e)&&"[object Map]"==Rn(e)},Cn=jt&&jt.isMap,Ln=Cn?xt(Cn):Qn;var Bn=function(e){return ut(e)&&"[object Set]"==Rn(e)},Mn=jt&&jt.isSet,kn=Mn?xt(Mn):Bn,qn=1,Un=2,zn=4,Vn="[object Arguments]",Wn="[object Function]",$n="[object GeneratorFunction]",Jn="[object Object]",Yn={};Yn[Vn]=Yn["[object Array]"]=Yn["[object ArrayBuffer]"]=Yn["[object DataView]"]=Yn["[object Boolean]"]=Yn["[object Date]"]=Yn["[object Float32Array]"]=Yn["[object Float64Array]"]=Yn["[object Int8Array]"]=Yn["[object Int16Array]"]=Yn["[object Int32Array]"]=Yn["[object Map]"]=Yn["[object Number]"]=Yn[Jn]=Yn["[object RegExp]"]=Yn["[object Set]"]=Yn["[object String]"]=Yn["[object Symbol]"]=Yn["[object Uint8Array]"]=Yn["[object Uint8ClampedArray]"]=Yn["[object Uint16Array]"]=Yn["[object Uint32Array]"]=!0,Yn["[object Error]"]=Yn[Wn]=Yn["[object WeakMap]"]=!1;var Gn=function n(r,i,a,e,t,o){var s,c=i&qn,u=i&Un,f=i&zn;if(a&&(s=t?a(r,e,t,o):a(r)),void 0!==s)return s;if(!ge(r))return r;var l=vt(r);if(l){if(s=_n(r),!c)return zt(r,s)}else{var h=Rn(r),p=h==Wn||h==$n;if(gt(r))return Ut(r,c);if(h==Jn||h==Vn||p&&!t){if(s=u||p?{}:Dn(r),!c)return u?en(r,qt(s,r)):Gt(r,Ct(s,r))}else{if(!Yn[h])return t?r:{};s=Nn(r,h,c)}}o||(o=new tt);var d=o.get(r);if(d)return d;if(o.set(r,s),kn(r))return r.forEach(function(e){s.add(n(e,i,a,e,r,o))}),s;if(Ln(r))return r.forEach(function(e,t){s.set(t,n(e,i,a,t,r,o))}),s;var v=f?u?rn:nn:u?keysIn:Qt,m=l?void 0:v(r);return nt(m||r,function(e,t){m&&(e=r[t=e]),ot(s,t,n(e,i,a,t,r,o))}),s};var Zn=function(e){return"symbol"==typeof e||ut(e)&&"[object Symbol]"==me(e)},Kn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xn=/^\w*$/;var er=function(e,t){if(vt(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Zn(e))||Xn.test(e)||!Kn.test(e)||null!=t&&e in Object(t)},tr="Expected a function";function nr(i,a){if("function"!=typeof i||null!=a&&"function"!=typeof a)throw new TypeError(tr);var o=function(){var e=arguments,t=a?a.apply(this,e):e[0],n=o.cache;if(n.has(t))return n.get(t);var r=i.apply(this,e);return o.cache=n.set(t,r)||n,r};return o.cache=new(nr.Cache||Ke),o}nr.Cache=Ke;var rr=nr;var ir=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ar=/\\(\\)?/g,or=function(e){var t=rr(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var i=[];return 46===e.charCodeAt(0)&&i.push(""),e.replace(ir,function(e,t,n,r){i.push(n?r.replace(ar,"$1"):t||e)}),i}),sr=1/0,cr=se?se.prototype:void 0,ur=cr?cr.toString:void 0;var fr=function e(t){if("string"==typeof t)return t;if(vt(t))return U(t,e)+"";if(Zn(t))return ur?ur.call(t):"";var n=t+"";return"0"==n&&1/t==-sr?"-0":n};var lr=function(e){return null==e?"":fr(e)};var hr=function(e,t){return vt(e)?e:er(e,t)?[e]:or(lr(e))};var pr=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var dr=function(e){if("string"==typeof e||Zn(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var vr=function(e,t){for(var n=0,r=(t=hr(t,e)).length;null!=e&&n<r;)e=e[dr(t[n++])];return n&&n==r?e:void 0};var mr=function(e,t,n){var r=-1,i=e.length;t<0&&(t=i<-t?0:i+t),(n=i<n?i:n)<0&&(n+=i),i=n<t?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a};var gr=function(e,t){return t.length<2?e:vr(e,mr(t,0,-1))};var yr=function(e,t){return t=hr(t,e),null==(e=gr(e,t))||delete e[dr(pr(t))]},br=Function.prototype,Rr=Object.prototype,Fr=br.toString,_r=Rr.hasOwnProperty,xr=Fr.call(Object);var jr=function(e){if(!ut(e)||"[object Object]"!=me(e))return!1;var t=Kt(e);if(null===t)return!0;var n=_r.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Fr.call(n)==xr};var Pr=function(e){return jr(e)?void 0:e},wr=se?se.isConcatSpreadable:void 0;var Sr=function(e){return vt(e)||dt(e)||!!(wr&&e&&e[wr])};var Or=function e(t,n,r,i,a){var o=-1,s=t.length;for(r||(r=Sr),a||(a=[]);++o<s;){var c=t[o];0<n&&r(c)?1<n?e(c,n-1,r,i,a):Zt(a,c):i||(a[a.length]=c)}return a};var Ar=function(e){return null!=e&&e.length?Or(e,1):[]};var Er=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Tr=Math.max;var Nr=function(a,o,s){return o=Tr(void 0===o?a.length-1:o,0),function(){for(var e=arguments,t=-1,n=Tr(e.length-o,0),r=Array(n);++t<n;)r[t]=e[o+t];t=-1;for(var i=Array(o+1);++t<o;)i[t]=e[t];return i[o]=s(r),Er(a,this,i)}};var Ir=function(e){return function(){return e}};var Hr=function(e){return e},Dr=rt?function(e,t){return rt(e,"toString",{configurable:!0,enumerable:!1,value:Ir(t),writable:!0})}:Hr,Qr=Date.now;var Cr=function(n){var r=0,i=0;return function(){var e=Qr(),t=16-(e-i);if(i=e,0<t){if(800<=++r)return arguments[0]}else r=0;return n.apply(void 0,arguments)}},Lr=Cr(Dr);var Br=function(e){return Lr(Nr(e,void 0,Ar),e+"")},Mr=Br(function(t,e){var n={};if(null==t)return n;var r=!1;e=U(e,function(e){return e=hr(e,t),r||(r=1<e.length),e}),st(t,rn(t),n),r&&(n=Gn(n,7,Pr));for(var i=e.length;i--;)yr(n,e[i]);return n});var kr=function(e){return this.__data__.has(e)};function qr(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ke;++t<n;)this.add(e[t])}qr.prototype.add=qr.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},qr.prototype.has=kr;var Ur=qr;var zr=function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1};var Vr=function(e){return e!=e};var Wr=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};var $r=function(e,t,n){return t==t?Wr(e,t,n):zr(e,Vr,n)};var Jr=function(e,t){return!(null==e||!e.length)&&-1<$r(e,t,0)};var Yr=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1};var Gr=function(e,t){return e.has(t)},Zr=Math.min;var Kr=function(e,t,n){for(var r=n?Yr:Jr,i=e[0].length,a=e.length,o=a,s=Array(a),c=1/0,u=[];o--;){var f=e[o];o&&t&&(f=U(f,xt(t))),c=Zr(f.length,c),s[o]=!n&&(t||120<=i&&120<=f.length)?new Ur(o&&f):void 0}f=e[0];var l=-1,h=s[0];e:for(;++l<i&&u.length<c;){var p=f[l],d=t?t(p):p;if(p=n||0!==p?p:0,!(h?Gr(h,d):r(u,d,n))){for(o=a;--o;){var v=s[o];if(!(v?Gr(v,d):r(e[o],d,n)))continue e}h&&h.push(d),u.push(p)}}return u};var Xr=function(e,t){return Lr(Nr(e,t,Hr),e+"")};var ei=function(e){return ut(e)&&Dt(e)};var ti=function(e){return ei(e)?e:[]},ni=Xr(function(e){var t=U(e,ti);return t.length&&t[0]===e[0]?Kr(t):[]});var ri=function(c){return function(e,t,n){for(var r=-1,i=Object(e),a=n(e),o=a.length;o--;){var s=a[c?o:++r];if(!1===t(i[s],s,i))break}return e}}();var ii=function(e,t){return e&&ri(e,t,Qt)};var ai=function(e){return"function"==typeof e?e:Hr};var oi=function(e,t){return e&&ii(e,ai(t))};var si=function(a,o){return function(e,t){if(null==e)return e;if(!Dt(e))return a(e,t);for(var n=e.length,r=o?n:-1,i=Object(e);(o?r--:++r<n)&&!1!==t(i[r],r,i););return e}}(ii);var ci=function(e,t){return(vt(e)?nt:si)(e,ai(t))};var ui=function(e,r){var i=[];return si(e,function(e,t,n){r(e,t,n)&&i.push(e)}),i};var fi=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var li=function(e,t,n,r,i,a){var o=1&n,s=e.length,c=t.length;if(s!=c&&!(o&&s<c))return!1;var u=a.get(e);if(u&&a.get(t))return u==t;var f=-1,l=!0,h=2&n?new Ur:void 0;for(a.set(e,t),a.set(t,e);++f<s;){var p=e[f],d=t[f];if(r)var v=o?r(d,p,f,t,e,a):r(p,d,f,e,t,a);if(void 0!==v){if(v)continue;l=!1;break}if(h){if(!fi(t,function(e,t){if(!Gr(h,t)&&(p===e||i(p,e,n,r,a)))return h.push(t)})){l=!1;break}}else if(p!==d&&!i(p,d,n,r,a)){l=!1;break}}return a.delete(e),a.delete(t),l};var hi=function(e){var n=-1,r=Array(e.size);return e.forEach(function(e,t){r[++n]=[t,e]}),r};var pi=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},di=se?se.prototype:void 0,vi=di?di.valueOf:void 0;var mi=function(e,t,n,r,i,a,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new xn(e),new xn(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return V(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=hi;case"[object Set]":var c=1&r;if(s||(s=pi),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;r|=2,o.set(e,t);var f=li(s(e),s(t),r,i,a,o);return o.delete(e),f;case"[object Symbol]":if(vi)return vi.call(e)==vi.call(t)}return!1},gi=Object.prototype.hasOwnProperty;var yi=function(e,t,n,r,i,a){var o=1&n,s=nn(e),c=s.length;if(c!=nn(t).length&&!o)return!1;for(var u=c;u--;){var f=s[u];if(!(o?f in t:gi.call(t,f)))return!1}var l=a.get(e);if(l&&a.get(t))return l==t;var h=!0;a.set(e,t),a.set(t,e);for(var p=o;++u<c;){var d=e[f=s[u]],v=t[f];if(r)var m=o?r(v,d,f,t,e,a):r(d,v,f,e,t,a);if(!(void 0===m?d===v||i(d,v,n,r,a):m)){h=!1;break}p||(p="constructor"==f)}if(h&&!p){var g=e.constructor,y=t.constructor;g!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y)&&(h=!1)}return a.delete(e),a.delete(t),h},bi="[object Arguments]",Ri="[object Array]",Fi="[object Object]",_i=Object.prototype.hasOwnProperty;var xi=function(e,t,n,r,i,a){var o=vt(e),s=vt(t),c=o?Ri:Rn(e),u=s?Ri:Rn(t),f=(c=c==bi?Fi:c)==Fi,l=(u=u==bi?Fi:u)==Fi,h=c==u;if(h&&gt(e)){if(!gt(t))return!1;f=!(o=!0)}if(h&&!f)return a||(a=new tt),o||wt(e)?li(e,t,n,r,i,a):mi(e,t,c,n,r,i,a);if(!(1&n)){var p=f&&_i.call(e,"__wrapped__"),d=l&&_i.call(t,"__wrapped__");if(p||d){var v=p?e.value():e,m=d?t.value():t;return a||(a=new tt),i(v,m,n,r,a)}}return!!h&&(a||(a=new tt),yi(e,t,n,r,i,a))};var ji=function e(t,n,r,i,a){return t===n||(null==t||null==n||!ut(t)&&!ut(n)?t!=t&&n!=n:xi(t,n,r,i,e,a))};var Pi=function(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var c=(s=n[i])[0],u=e[c],f=s[1];if(o&&s[2]){if(void 0===u&&!(c in e))return!1}else{var l=new tt;if(r)var h=r(u,f,c,e,t,l);if(!(void 0===h?ji(f,u,3,r,l):h))return!1}}return!0};var wi=function(e){return e==e&&!ge(e)};var Si=function(e){for(var t=Qt(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,wi(i)]}return t};var Oi=function(t,n){return function(e){return null!=e&&e[t]===n&&(void 0!==n||t in Object(e))}};var Ai=function(t){var n=Si(t);return 1==n.length&&n[0][2]?Oi(n[0][0],n[0][1]):function(e){return e===t||Pi(e,t,n)}};var Ei=function(e,t,n){var r=null==e?void 0:vr(e,t);return void 0===r?n:r};var Ti=function(e,t){return null!=e&&t in Object(e)};var Ni=function(e,t,n){for(var r=-1,i=(t=hr(t,e)).length,a=!1;++r<i;){var o=dr(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&Rt(i)&&bt(o,i)&&(vt(e)||dt(e))};var Ii=function(e,t){return null!=e&&Ni(e,t,Ti)};var Hi=function(n,r){return er(n)&&wi(r)?Oi(dr(n),r):function(e){var t=Ei(e,n);return void 0===t&&t===r?Ii(e,n):ji(r,t,3)}};var Di=function(t){return function(e){return null==e?void 0:e[t]}};var Qi=function(t){return function(e){return vr(e,t)}};var Ci=function(e){return er(e)?Di(dr(e)):Qi(e)};var Li=function(e){return"function"==typeof e?e:null==e?Hr:"object"==typeof e?vt(e)?Hi(e[0],e[1]):Ai(e):Ci(e)};var Bi=function(e,t){return(vt(e)?Vt:ui)(e,Li(t,3))};var Mi=function(e,r){var i=-1,a=Dt(e)?Array(e.length):[];return si(e,function(e,t,n){a[++i]=r(e,t,n)}),a};var ki=function(e,t){return(vt(e)?U:Mi)(e,Li(t,3))};var qi=function(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n};var Ui=function(e,r,i,a,t){return t(e,function(e,t,n){i=a?(a=!1,e):r(i,e,t,n)}),i};var zi=function(e,t,n){var r=vt(e)?qi:Ui,i=arguments.length<3;return r(e,Li(t,4),n,i,si)},Vi=/^\s+|\s+$/g,Wi=/^[-+]0x[0-9a-f]+$/i,$i=/^0b[01]+$/i,Ji=/^0o[0-7]+$/i,Yi=parseInt;var Gi=function(e){if("number"==typeof e)return e;if(Zn(e))return NaN;if(ge(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ge(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Vi,"");var n=$i.test(e);return n||Ji.test(e)?Yi(e.slice(2),n?2:8):Wi.test(e)?NaN:+e};var Zi=function(e){return e?(e=Gi(e))!==1/0&&e!==-1/0?e==e?e:0:17976931348623157e292*(e<0?-1:1):0===e?e:0};var Ki=function(e){var t=Zi(e),n=t%1;return t==t?n?t-n:t:0},Xi=Math.max;var ea=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Ki(n);return i<0&&(i=Xi(r+i,0)),$r(e,t,i)};var ta=function(e){return"number"==typeof e||ut(e)&&"[object Number]"==me(e)};var na=function(e){return ta(e)&&e!=+e},ra=Object.prototype.hasOwnProperty;var ia=function(e){if(null==e)return!0;if(Dt(e)&&(vt(e)||"string"==typeof e||"function"==typeof e.splice||gt(e)||wt(e)||dt(e)))return!e.length;var t=Rn(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Et(e))return!Ht(e).length;for(var n in e)if(ra.call(e,n))return!1;return!0};var aa=function(e,t){return ji(e,t)};var oa=function(e){return void 0===e};var sa=function(e){return"string"==typeof e||!vt(e)&&ut(e)&&"[object String]"==me(e)};var ca=function(o){return function(e,t,n){var r=Object(e);if(!Dt(e)){var i=Li(t,3);e=Qt(e),t=function(e){return i(r[e],e,r)}}var a=o(e,t,n);return-1<a?r[i?e[a]:a]:void 0}},ua=Math.max;var fa=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Ki(n);return i<0&&(i=ua(r+i,0)),zr(e,Li(t,3),i)},la=ca(fa);var ha=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&r<=n?e:mr(e,t,n)};var pa=function(e,t){for(var n=e.length;n--&&-1<$r(t,e[n],0););return n};var da=function(e,t){for(var n=-1,r=e.length;++n<r&&-1<$r(t,e[n],0););return n};var va=function(e){return e.split("")},ma=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var ga=function(e){return ma.test(e)},ya="\\ud800-\\udfff",ba="["+ya+"]",Ra="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Fa="\\ud83c[\\udffb-\\udfff]",_a="[^"+ya+"]",xa="(?:\\ud83c[\\udde6-\\uddff]){2}",ja="[\\ud800-\\udbff][\\udc00-\\udfff]",Pa="(?:"+Ra+"|"+Fa+")"+"?",wa="[\\ufe0e\\ufe0f]?",Sa=wa+Pa+("(?:\\u200d(?:"+[_a,xa,ja].join("|")+")"+wa+Pa+")*"),Oa="(?:"+[_a+Ra+"?",Ra,xa,ja,ba].join("|")+")",Aa=RegExp(Fa+"(?="+Fa+")|"+Oa+Sa,"g");var Ea=function(e){return e.match(Aa)||[]};var Ta=function(e){return ga(e)?Ea(e):va(e)},Na=/^\s+|\s+$/g;var Ia=function(e,t,n){if((e=lr(e))&&(n||void 0===t))return e.replace(Na,"");if(!e||!(t=fr(t)))return e;var r=Ta(e),i=Ta(t),a=da(r,i),o=pa(r,i)+1;return ha(r,a,o).join("")};var Ha=function(e,t,n){if(!ge(n))return!1;var r=typeof t;return!!("number"==r?Dt(n)&&bt(t,n.length):"string"==r&&t in n)&&V(n[t],e)},Da=Object.prototype,Qa=Da.hasOwnProperty,Ca=Xr(function(e,t){e=Object(e);var n=-1,r=t.length,i=2<r?t[2]:void 0;for(i&&Ha(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],o=kt(a),s=-1,c=o.length;++s<c;){var u=o[s],f=e[u];(void 0===f||V(f,Da[u])&&!Qa.call(e,u))&&(e[u]=a[u])}return e});var La=function(e,t,n){(void 0===n||V(e[t],n))&&(void 0!==n||t in e)||it(e,t,n)};var Ba=function(e,t){if("__proto__"!=t)return e[t]};var Ma=function(e){return st(e,kt(e))};var ka=function(e,t,n,r,i,a,o){var s=Ba(e,n),c=Ba(t,n),u=o.get(c);if(u)La(e,n,u);else{var f=a?a(s,c,n+"",e,t,o):void 0,l=void 0===f;if(l){var h=vt(c),p=!h&&gt(c),d=!h&&!p&&wt(c);f=c,h||p||d?f=vt(s)?s:ei(s)?zt(s):p?Ut(c,!(l=!1)):d?Tn(c,!(l=!1)):[]:jr(c)||dt(c)?dt(f=s)?f=Ma(s):ge(s)&&!be(s)||(f=Dn(c)):l=!1}l&&(o.set(c,f),i(f,c,r,a,o),o.delete(c)),La(e,n,f)}};var qa=function r(i,a,o,s,c){i!==a&&ri(a,function(e,t){if(ge(e))c||(c=new tt),ka(i,a,t,o,r,s,c);else{var n=s?s(Ba(i,t),e,t+"",i,a,c):void 0;void 0===n&&(n=e),La(i,t,n)}},kt)};var Ua=function(s){return Xr(function(e,t){var n=-1,r=t.length,i=1<r?t[r-1]:void 0,a=2<r?t[2]:void 0;for(i=3<s.length&&"function"==typeof i?(r--,i):void 0,a&&Ha(t[0],t[1],a)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var o=t[n];o&&s(e,o,n,i)}return e})}(function(e,t,n){qa(e,t,n)});var za=function e(t){if(ta(t))return t;if(sa(t))return parseFloat(t);if(Array.isArray(t))return ki(t,e);throw new Error("The value should be a number, a parseable string or an array of those.")};var Va=function(n,e){var r={},t=Bi(e,function(e){return-1!==e.indexOf("attribute:")}),i=ki(t,function(e){return e.split(":")[1]});-1===ea(i,"*")?ci(i,function(e){n.isConjunctiveFacet(e)&&n.isFacetRefined(e)&&(r.facetsRefinements||(r.facetsRefinements={}),r.facetsRefinements[e]=n.facetsRefinements[e]),n.isDisjunctiveFacet(e)&&n.isDisjunctiveFacetRefined(e)&&(r.disjunctiveFacetsRefinements||(r.disjunctiveFacetsRefinements={}),r.disjunctiveFacetsRefinements[e]=n.disjunctiveFacetsRefinements[e]),n.isHierarchicalFacet(e)&&n.isHierarchicalFacetRefined(e)&&(r.hierarchicalFacetsRefinements||(r.hierarchicalFacetsRefinements={}),r.hierarchicalFacetsRefinements[e]=n.hierarchicalFacetsRefinements[e]);var t=n.getNumericRefinements(e);ia(t)||(r.numericRefinements||(r.numericRefinements={}),r.numericRefinements[e]=n.numericRefinements[e])}):(ia(n.numericRefinements)||(r.numericRefinements=n.numericRefinements),ia(n.facetsRefinements)||(r.facetsRefinements=n.facetsRefinements),ia(n.disjunctiveFacetsRefinements)||(r.disjunctiveFacetsRefinements=n.disjunctiveFacetsRefinements),ia(n.hierarchicalFacetsRefinements)||(r.hierarchicalFacetsRefinements=n.hierarchicalFacetsRefinements));var a=Bi(e,function(e){return-1===e.indexOf("attribute:")});return ci(a,function(e){r[e]=n[e]}),r},Wa={addRefinement:function(e,t,n){if(Wa.isRefined(e,t,n))return e;var r=""+n,i=e[t]?e[t].concat(r):[r],a={};return a[t]=i,Ca({},a,e)},removeRefinement:function(e,n,t){if(oa(t))return Wa.clearRefinement(e,n);var r=""+t;return Wa.clearRefinement(e,function(e,t){return n===t&&r===e})},toggleRefinement:function(e,t,n){if(oa(n))throw new Error("toggleRefinement should be used with a value");return Wa.isRefined(e,t,n)?Wa.removeRefinement(e,t,n):Wa.addRefinement(e,t,n)},clearRefinement:function(e,i,a){if(oa(i))return ia(e)?e:{};if(sa(i))return ia(e[i])?e:Mr(e,i);if(be(i)){var o=!1,t=zi(e,function(e,t,n){var r=Bi(t,function(e){return!i(e,n,a)});return ia(r)?o=!0:(r.length!==t.length&&(o=!0),e[n]=r),e},{});return o?t:e}},isRefined:function(e,t,n){var r=ea,i=!!e[t]&&0<e[t].length;if(oa(n)||!i)return i;var a=""+n;return-1!==r(e[t],a)}},$a=Wa;function Ja(e){var t=e?Ja._parseNumbers(e):{};this.index=t.index||"",this.query=t.query||"",this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{},this.numericFilters=t.numericFilters,this.tagFilters=t.tagFilters,this.optionalTagFilters=t.optionalTagFilters,this.optionalFacetFilters=t.optionalFacetFilters,this.hitsPerPage=t.hitsPerPage,this.maxValuesPerFacet=t.maxValuesPerFacet,this.page=t.page||0,this.queryType=t.queryType,this.typoTolerance=t.typoTolerance,this.minWordSizefor1Typo=t.minWordSizefor1Typo,this.minWordSizefor2Typos=t.minWordSizefor2Typos,this.minProximity=t.minProximity,this.allowTyposOnNumericTokens=t.allowTyposOnNumericTokens,this.ignorePlurals=t.ignorePlurals,this.restrictSearchableAttributes=t.restrictSearchableAttributes,this.advancedSyntax=t.advancedSyntax,this.analytics=t.analytics,this.analyticsTags=t.analyticsTags,this.synonyms=t.synonyms,this.replaceSynonymsInHighlight=t.replaceSynonymsInHighlight,this.optionalWords=t.optionalWords,this.removeWordsIfNoResults=t.removeWordsIfNoResults,this.attributesToRetrieve=t.attributesToRetrieve,this.attributesToHighlight=t.attributesToHighlight,this.highlightPreTag=t.highlightPreTag,this.highlightPostTag=t.highlightPostTag,this.attributesToSnippet=t.attributesToSnippet,this.getRankingInfo=t.getRankingInfo,this.distinct=t.distinct,this.aroundLatLng=t.aroundLatLng,this.aroundLatLngViaIP=t.aroundLatLngViaIP,this.aroundRadius=t.aroundRadius,this.minimumAroundRadius=t.minimumAroundRadius,this.aroundPrecision=t.aroundPrecision,this.insideBoundingBox=t.insideBoundingBox,this.insidePolygon=t.insidePolygon,this.snippetEllipsisText=t.snippetEllipsisText,this.disableExactOnAttributes=t.disableExactOnAttributes,this.enableExactOnSingleWordQuery=t.enableExactOnSingleWordQuery,this.offset=t.offset,this.length=t.length;var n=this;oi(t,function(e,t){-1===Ja.PARAMETERS.indexOf(t)&&(n[t]=e)})}Ja.PARAMETERS=Qt(new Ja),Ja._parseNumbers=function(r){if(r instanceof Ja)return r;var i={};if(ci(["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"],function(e){var t=r[e];if(sa(t)){var n=parseFloat(t);i[e]=na(n)?t:n}}),Array.isArray(r.insideBoundingBox)&&(i.insideBoundingBox=r.insideBoundingBox.map(function(e){return e.map(function(e){return parseFloat(e)})})),r.numericRefinements){var a={};ci(r.numericRefinements,function(e,r){a[r]={},ci(e,function(e,t){var n=ki(e,function(e){return Array.isArray(e)?ki(e,function(e){return sa(e)?parseFloat(e):e}):sa(e)?parseFloat(e):e});a[r][t]=n})}),i.numericRefinements=a}return Ua({},r,i)},Ja.make=function(e){var n=new Ja(e);return ci(e.hierarchicalFacets,function(e){if(e.rootPath){var t=n.getHierarchicalRefinement(e.name);0<t.length&&0!==t[0].indexOf(e.rootPath)&&(n=n.clearRefinements(e.name)),0===(t=n.getHierarchicalRefinement(e.name)).length&&(n=n.toggleHierarchicalFacetRefinement(e.name,e.rootPath))}}),n},Ja.validate=function(e,t){var n=t||{};return e.tagFilters&&n.tagRefinements&&0<n.tagRefinements.length?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):0<e.tagRefinements.length&&n.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&n.numericRefinements&&!ia(n.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):!ia(e.numericRefinements)&&n.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},Ja.prototype={constructor:Ja,clearRefinements:function(e){var t=$a.clearRefinement,n={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:t(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:t(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:t(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:t(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return n.numericRefinements===this.numericRefinements&&n.facetsRefinements===this.facetsRefinements&&n.facetsExcludes===this.facetsExcludes&&n.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&n.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(n)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(e,t,n){var r=za(n);if(this.isNumericRefined(e,t,r))return this;var i=Ua({},this.numericRefinements);return i[e]=Ua({},i[e]),i[e][t]?(i[e][t]=i[e][t].slice(),i[e][t].push(r)):i[e][t]=[r],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(e){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.facetsRefinements[e]||[]},getDisjunctiveRefinements:function(e){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.disjunctiveFacetsRefinements[e]||[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.facetsExcludes[e]||[]},removeNumericRefinement:function(n,r,e){if(void 0===e)return void 0!==r?this.isNumericRefined(n,r)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(e,t){return t===n&&e.op===r})}):this:this.isNumericRefined(n)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(e,t){return t===n})}):this;var i=za(e);return this.isNumericRefined(n,r,i)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(e,t){return t===n&&e.op===r&&aa(e.val,i)})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(a){if(oa(a))return ia(this.numericRefinements)?this.numericRefinements:{};if(sa(a))return ia(this.numericRefinements[a])?this.numericRefinements:Mr(this.numericRefinements,a);if(be(a)){var o=!1,e=zi(this.numericRefinements,function(e,t,r){var i={};return ci(t,function(e,t){var n=[];ci(e,function(e){a({val:e,op:t},r,"numeric")||n.push(e)}),ia(n)?o=!0:(n.length!==e.length&&(o=!0),i[t]=n)}),ia(i)||(e[r]=i),e},{});return o?e:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return $a.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({facetsRefinements:$a.addRefinement(this.facetsRefinements,e,t)})},addExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return $a.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({facetsExcludes:$a.addRefinement(this.facetsExcludes,e,t)})},addDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return $a.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({disjunctiveFacetsRefinements:$a.addRefinement(this.disjunctiveFacetsRefinements,e,t)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(t)},removeFacet:function(t){return this.isConjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({facets:Bi(this.facets,function(e){return e!==t})}):this},removeDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({disjunctiveFacets:Bi(this.disjunctiveFacets,function(e){return e!==t})}):this},removeHierarchicalFacet:function(t){return this.isHierarchicalFacet(t)?this.clearRefinements(t).setQueryParameters({hierarchicalFacets:Bi(this.hierarchicalFacets,function(e){return e.name!==t})}):this},removeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return $a.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({facetsRefinements:$a.removeRefinement(this.facetsRefinements,e,t)}):this},removeExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return $a.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({facetsExcludes:$a.removeRefinement(this.facetsExcludes,e,t)}):this},removeDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return $a.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({disjunctiveFacetsRefinements:$a.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this},removeTagRefinement:function(t){if(!this.isTagRefined(t))return this;var e={tagRefinements:Bi(this.tagRefinements,function(e){return e!==t})};return this.setQueryParameters(e)},toggleRefinement:function(e,t){return this.toggleFacetRefinement(e,t)},toggleFacetRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:$a.toggleRefinement(this.facetsRefinements,e,t)})},toggleExcludeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:$a.toggleRefinement(this.facetsExcludes,e,t)})},toggleDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:$a.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)})},toggleHierarchicalFacetRefinement:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),r={};return void 0!==this.hierarchicalFacetsRefinements[e]&&0<this.hierarchicalFacetsRefinements[e].length&&(this.hierarchicalFacetsRefinements[e][0]===t||0===this.hierarchicalFacetsRefinements[e][0].indexOf(t+n))?-1===t.indexOf(n)?r[e]=[]:r[e]=[t.slice(0,t.lastIndexOf(n))]:r[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:Ca({},r,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");var n={};return n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:Ca({},n,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))throw new Error(e+" is not refined.");var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:Ca({},t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return-1<ea(this.disjunctiveFacets,e)},isHierarchicalFacet:function(e){return void 0!==this.getHierarchicalFacetByName(e)},isConjunctiveFacet:function(e){return-1<ea(this.facets,e)},isFacetRefined:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return $a.isRefined(this.facetsRefinements,e,t)},isExcludeRefined:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return $a.isRefined(this.facetsExcludes,e,t)},isDisjunctiveFacetRefined:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return $a.isRefined(this.disjunctiveFacetsRefinements,e,t)},isHierarchicalFacetRefined:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var n=this.getHierarchicalRefinement(e);return t?-1!==ea(n,t):0<n.length},isNumericRefined:function(e,t,n){if(oa(n)&&oa(t))return!!this.numericRefinements[e];var r=this.numericRefinements[e]&&!oa(this.numericRefinements[e][t]);if(oa(n)||!r)return r;var i,a,o=za(n),s=!oa((i=this.numericRefinements[e][t],a=o,la(i,function(e){return aa(e,a)})));return r&&s},isTagRefined:function(e){return-1!==ea(this.tagRefinements,e)},getRefinedDisjunctiveFacets:function(){var e=ni(Qt(this.numericRefinements),this.disjunctiveFacets);return Qt(this.disjunctiveFacetsRefinements).concat(e).concat(this.getRefinedHierarchicalFacets())},getRefinedHierarchicalFacets:function(){return ni(ki(this.hierarchicalFacets,"name"),Qt(this.hierarchicalFacetsRefinements))},getUnrefinedDisjunctiveFacets:function(){var t=this.getRefinedDisjunctiveFacets();return Bi(this.disjunctiveFacets,function(e){return-1===ea(t,e)})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements"],getQueryParams:function(){var n=this.managedParameters,r={};return oi(this,function(e,t){-1===ea(n,t)&&void 0!==e&&(r[t]=e)}),r},getQueryParameter:function(e){if(!this.hasOwnProperty(e))throw new Error("Parameter '"+e+"' is not an attribute of SearchParameters (http://algolia.github.io/algoliasearch-helper-js/docs/SearchParameters.html)");return this[e]},setQueryParameter:function(e,t){if(this[e]===t)return this;var n={};return n[e]=t,this.setQueryParameters(n)},setQueryParameters:function(n){if(!n)return this;var e=Ja.validate(this,n);if(e)throw e;var r=Ja._parseNumbers(n);return this.mutateMe(function(t){var e=Qt(n);return ci(e,function(e){t[e]=r[e]}),t})},filter:function(e){return Va(this,e)},mutateMe:function(e){var t=new this.constructor(this);return e(t,this),t},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return"boolean"!=typeof e.showParentLevel||e.showParentLevel},getHierarchicalFacetByName:function(e){return la(this.hierarchicalFacets,{name:e})},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))throw new Error("Cannot get the breadcrumb of an unknown hierarchical facet: `"+e+"`");var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),r=t.split(n);return ki(r,Ia)},toString:function(){return JSON.stringify(this,null,2)}};var Ya=Ja;var Ga=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i};var Za=function(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);void 0!==a&&(n=void 0===n?a:n+a)}return n};var Ka=function(e,t){return e&&e.length?Za(e,Li(t,2)):0};var Xa=function(t,e){return U(e,function(e){return t[e]})};var eo=function(e){return null==e?[]:Xa(e,Qt(e))},to=Math.max;var no=function(e,t,n,r){e=Dt(e)?e:eo(e),n=n&&!r?Ki(n):0;var i=e.length;return n<0&&(n=to(i+n,0)),sa(e)?n<=i&&-1<e.indexOf(t,n):!!i&&-1<$r(e,t,n)};var ro=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e};var io=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,a=Zn(e),o=void 0!==t,s=null===t,c=t==t,u=Zn(t);if(!s&&!u&&!a&&t<e||a&&o&&c&&!s&&!u||r&&o&&c||!n&&c||!i)return 1;if(!r&&!a&&!u&&e<t||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!c)return-1}return 0};var ao=function(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var c=io(i[r],a[r]);if(c)return s<=r?c:c*("desc"==n[r]?-1:1)}return e.index-t.index};var oo=function(e,r,n){var i=-1;r=U(r.length?r:[Hr],xt(Li));var t=Mi(e,function(t,e,n){return{criteria:U(r,function(e){return e(t)}),index:++i,value:t}});return ro(t,function(e,t){return ao(e,t,n)})};var so=function(e,t,n,r){return null==e?[]:(vt(t)||(t=null==t?[]:[t]),vt(n=r?void 0:n)||(n=null==n?[]:[n]),oo(e,t,n))},co=cn&&new cn,uo=co?function(e,t){return co.set(e,t),e}:Hr;var fo=function(r){return function(){var e=arguments;switch(e.length){case 0:return new r;case 1:return new r(e[0]);case 2:return new r(e[0],e[1]);case 3:return new r(e[0],e[1],e[2]);case 4:return new r(e[0],e[1],e[2],e[3]);case 5:return new r(e[0],e[1],e[2],e[3],e[4]);case 6:return new r(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new r(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=Hn(r.prototype),n=r.apply(t,e);return ge(n)?n:t}};var lo=function(t,e,n){var r=1&e,i=fo(t);return function e(){return(this&&this!==oe&&this instanceof e?i:t).apply(r?n:this,arguments)}},ho=Math.max;var po=function(e,t,n,r){for(var i=-1,a=e.length,o=n.length,s=-1,c=t.length,u=ho(a-o,0),f=Array(c+u),l=!r;++s<c;)f[s]=t[s];for(;++i<o;)(l||i<a)&&(f[n[i]]=e[i]);for(;u--;)f[s++]=e[i++];return f},vo=Math.max;var mo=function(e,t,n,r){for(var i=-1,a=e.length,o=-1,s=n.length,c=-1,u=t.length,f=vo(a-s,0),l=Array(f+u),h=!r;++i<f;)l[i]=e[i];for(var p=i;++c<u;)l[p+c]=t[c];for(;++o<s;)(h||i<a)&&(l[p+n[o]]=e[i++]);return l};var go=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r};var yo=function(){};function bo(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}var Ro=(bo.prototype=Hn(yo.prototype)).constructor=bo;var Fo=co?function(e){return co.get(e)}:function(){},_o={},xo=Object.prototype.hasOwnProperty;var jo=function(e){for(var t=e.name+"",n=_o[t],r=xo.call(_o,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t};function Po(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}var wo=(Po.prototype=Hn(yo.prototype)).constructor=Po;var So=function(e){if(e instanceof Ro)return e.clone();var t=new wo(e.__wrapped__,e.__chain__);return t.__actions__=zt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t},Oo=Object.prototype.hasOwnProperty;function Ao(e){if(ut(e)&&!vt(e)&&!(e instanceof Ro)){if(e instanceof wo)return e;if(Oo.call(e,"__wrapped__"))return So(e)}return new wo(e)}var Eo=(Ao.prototype=yo.prototype).constructor=Ao;var To=function(e){var t=jo(e),n=Eo[t];if("function"!=typeof n||!(t in Ro.prototype))return!1;if(e===n)return!0;var r=Fo(n);return!!r&&e===r[0]},No=Cr(uo),Io=/\{\n\/\* \[wrapped with (.+)\] \*/,Ho=/,? & /;var Do=function(e){var t=e.match(Io);return t?t[1].split(Ho):[]},Qo=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;var Co=function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(1<n?"& ":"")+t[r],t=t.join(2<n?", ":" "),e.replace(Qo,"{\n/* [wrapped with "+t+"] */\n")},Lo=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];var Bo=function(n,r){return nt(Lo,function(e){var t="_."+e[0];r&e[1]&&!Jr(n,t)&&n.push(t)}),n.sort()};var Mo=function(e,t,n){var r=t+"";return Lr(e,Co(r,Bo(Do(r),n)))};var ko=function(e,t,n,r,i,a,o,s,c,u){var f=8&t;t|=f?32:64,4&(t&=~(f?64:32))||(t&=-4);var l=[e,t,i,f?a:void 0,f?o:void 0,f?void 0:a,f?void 0:o,s,c,u],h=n.apply(void 0,l);return To(e)&&No(h,l),h.placeholder=r,Mo(h,e,t)};var qo=function(e){return e.placeholder},Uo=Math.min;var zo=function(e,t){for(var n=e.length,r=Uo(t.length,n),i=zt(e);r--;){var a=t[r];e[r]=bt(a,n)?i[a]:void 0}return e},Vo="__lodash_placeholder__";var Wo=function(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n];o!==t&&o!==Vo||(e[n]=Vo,a[i++]=n)}return a},$o=1,Jo=2,Yo=8,Go=16,Zo=128,Ko=512;function Xo(u,f,l,h,p,d,v,m,g,y){var b=f&Zo,R=f&$o,F=f&Jo,_=f&(Yo|Go),x=f&Ko,j=F?void 0:fo(u);return function e(){for(var t=arguments.length,n=Array(t),r=t;r--;)n[r]=arguments[r];if(_)var i=qo(e),a=go(n,i);if(h&&(n=po(n,h,p,_)),d&&(n=mo(n,d,v,_)),t-=a,_&&t<y){var o=Wo(n,i);return ko(u,f,Xo,e.placeholder,l,n,o,m,g,y-t)}var s=R?l:this,c=F?s[u]:u;return t=n.length,m?n=zo(n,m):x&&1<t&&n.reverse(),b&&g<t&&(n.length=g),this&&this!==oe&&this instanceof e&&(c=j||fo(c)),c.apply(s,n)}}var es=Xo;var ts=function(o,s,c){var u=fo(o);return function e(){for(var t=arguments.length,n=Array(t),r=t,i=qo(e);r--;)n[r]=arguments[r];var a=t<3&&n[0]!==i&&n[t-1]!==i?[]:Wo(n,i);return(t-=a.length)<c?ko(o,s,es,e.placeholder,void 0,n,a,void 0,void 0,c-t):Er(this&&this!==oe&&this instanceof e?u:o,this,n)}};var ns=function(s,e,c,u){var f=1&e,l=fo(s);return function e(){for(var t=-1,n=arguments.length,r=-1,i=u.length,a=Array(i+n),o=this&&this!==oe&&this instanceof e?l:s;++r<i;)a[r]=u[r];for(;n--;)a[r++]=arguments[++t];return Er(o,f?c:this,a)}},rs="__lodash_placeholder__",is=Math.min;var as=function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,o=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!o)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var s=t[3];if(s){var c=e[3];e[3]=c?po(c,s,t[4]):s,e[4]=c?Wo(e[3],rs):t[4]}return(s=t[5])&&(c=e[5],e[5]=c?mo(c,s,t[6]):s,e[6]=c?Wo(e[5],rs):t[6]),(s=t[7])&&(e[7]=s),128&r&&(e[8]=null==e[8]?t[8]:is(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e},os=Math.max;var ss=function(e,t,n,r,i,a,o,s){var c=2&t;if(!c&&"function"!=typeof e)throw new TypeError("Expected a function");var u=r?r.length:0;if(u||(t&=-97,r=i=void 0),o=void 0===o?o:os(Ki(o),0),s=void 0===s?s:Ki(s),u-=i?i.length:0,64&t){var f=r,l=i;r=i=void 0}var h=c?void 0:Fo(e),p=[e,t,n,r,i,f,l,a,o,s];if(h&&as(p,h),e=p[0],t=p[1],n=p[2],r=p[3],i=p[4],!(s=p[9]=void 0===p[9]?c?0:e.length:os(p[9]-u,0))&&24&t&&(t&=-25),t&&1!=t)d=8==t||16==t?ts(e,t,s):32!=t&&33!=t||i.length?es.apply(void 0,p):ns(e,t,n,r);else var d=lo(e,t,n);return Mo((h?uo:No)(d,p),e,t)},cs=Xr(function(e,t){var n=Wo(t,qo(cs));return ss(e,32,void 0,t,n)});cs.placeholder={};var us=cs,fs=Xr(function(e,t){var n=Wo(t,qo(fs));return ss(e,64,void 0,t,n)});fs.placeholder={};var ls=fs;var hs=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=t<=e?e:t)),e};var ps=function(e,t,n){return e=lr(e),n=null==n?0:hs(Ki(n),0,e.length),t=fr(t),e.slice(n,n+t.length)==t},ds=function(e,i){return zi(e,function(e,t){var n=t.split(":");if(i&&1===n.length){var r=la(i,function(e){return ps(e,t[0])});r&&(n=r.split(":"))}return e[0].push(n[0]),e[1].push(n[1]),e},[[],[]])};var vs=function(e,t,n,r){if(!ge(e))return e;for(var i=-1,a=(t=hr(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var c=dr(t[i]),u=n;if(i!=o){var f=s[c];void 0===(u=r?r(f,c,s):void 0)&&(u=ge(f)?f:bt(t[i+1])?[]:{})}ot(s,c,u),s=s[c]}return e};var ms=function(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=vr(e,o);n(s,o)&&vs(a,hr(o,e),s)}return a};var gs=function(e,n){if(null==e)return{};var t=U(rn(e),function(e){return[e]});return n=Li(n),ms(e,t,function(e,t){return n(e,t[0])})},ys=function(f){return function(e,t){var p,d,v,m,g,n=f.hierarchicalFacets[t],r=f.hierarchicalFacetsRefinements[n.name]&&f.hierarchicalFacetsRefinements[n.name][0]||"",i=f._getHierarchicalFacetSeparator(n),a=f._getHierarchicalRootPath(n),o=f._getHierarchicalShowParentLevel(n),s=ds(f._getHierarchicalFacetSortBy(n)),c=(p=s,d=i,v=a,m=o,g=r,function(e,t,n){var r,i,a,o,s,c,u,f=e;if(0<n){var l=0;for(f=e;l<n;)f=f&&la(f.data,{isRefined:!0}),l++}if(f){var h=(a=f.path||v,o=g,s=d,c=v,u=m,function(e,t){return(!c||0===t.indexOf(c)&&c!==t)&&(!c&&-1===t.indexOf(s)||c&&t.split(s).length-c.split(s).length==1||-1===t.indexOf(s)&&-1===o.indexOf(s)||0===o.indexOf(t)||0===t.indexOf(a+s)&&(u||0===t.indexOf(o)))});f.data=so(ki(gs(t.data,h),(r=d,i=g,function(e,t){return{name:Ia(pr(t.split(r))),path:t,count:e,isRefined:i===t||0===i.indexOf(t+r),data:null}})),p[0],p[1])}return e}),u=e;return a&&(u=e.slice(a.split(i).length)),zi(u,c,{name:f.hierarchicalFacets[t].name,count:null,isRefined:!0,path:null,data:null})}};function bs(e){var n={};return ci(e,function(e,t){n[e]=t}),n}function Rs(e,t,n){t&&t[n]&&(e.stats=t[n])}function Fs(f,n){var l=n[0];this._rawResults=n,this.query=l.query,this.parsedQuery=l.parsedQuery,this.hits=l.hits,this.index=l.index,this.hitsPerPage=l.hitsPerPage,this.nbHits=l.nbHits,this.nbPages=l.nbPages,this.page=l.page,this.processingTimeMS=Ka(n,"processingTimeMS"),this.aroundLatLng=l.aroundLatLng,this.automaticRadius=l.automaticRadius,this.serverUsed=l.serverUsed,this.timeoutCounts=l.timeoutCounts,this.timeoutHits=l.timeoutHits,this.exhaustiveFacetsCount=l.exhaustiveFacetsCount,this.exhaustiveNbHits=l.exhaustiveNbHits,this.userData=l.userData,this.queryID=l.queryID,this.disjunctiveFacets=[],this.hierarchicalFacets=ki(f.hierarchicalFacets,function(){return[]}),this.facets=[];var e=f.getRefinedDisjunctiveFacets(),h=bs(f.facets),p=bs(f.disjunctiveFacets),r=1,d=this;ci(l.facets,function(e,t){var n,r,i=(n=f.hierarchicalFacets,r=t,la(n,function(e){return no(e.attributes,r)}));if(i){var a=i.attributes.indexOf(t),o=fa(f.hierarchicalFacets,{name:i.name});d.hierarchicalFacets[o][a]={attribute:t,data:e,exhaustive:l.exhaustiveFacetsCount}}else{var s,c=-1!==ea(f.disjunctiveFacets,t),u=-1!==ea(f.facets,t);c&&(s=p[t],d.disjunctiveFacets[s]={name:t,data:e,exhaustive:l.exhaustiveFacetsCount},Rs(d.disjunctiveFacets[s],l.facets_stats,t)),u&&(s=h[t],d.facets[s]={name:t,data:e,exhaustive:l.exhaustiveFacetsCount},Rs(d.facets[s],l.facets_stats,t))}}),this.hierarchicalFacets=Ga(this.hierarchicalFacets),ci(e,function(e){var a=n[r],o=f.getHierarchicalFacetByName(e);ci(a.facets,function(e,t){var n;if(o){n=fa(f.hierarchicalFacets,{name:o.name});var r=fa(d.hierarchicalFacets[n],{attribute:t});if(-1===r)return;d.hierarchicalFacets[n][r].data=Ua({},d.hierarchicalFacets[n][r].data,e)}else{n=p[t];var i=l.facets&&l.facets[t]||{};d.disjunctiveFacets[n]={name:t,data:Ca({},e,i),exhaustive:a.exhaustiveFacetsCount},Rs(d.disjunctiveFacets[n],a.facets_stats,t),f.disjunctiveFacetsRefinements[t]&&ci(f.disjunctiveFacetsRefinements[t],function(e){!d.disjunctiveFacets[n].data[e]&&-1<ea(f.disjunctiveFacetsRefinements[t],e)&&(d.disjunctiveFacets[n].data[e]=0)})}}),r++}),ci(f.getRefinedHierarchicalFacets(),function(e){var o=f.getHierarchicalFacetByName(e),s=f._getHierarchicalFacetSeparator(o),c=f.getHierarchicalRefinement(e);if(!(0===c.length||c[0].split(s).length<2)){var t=n[r];ci(t.facets,function(e,t){var n=fa(f.hierarchicalFacets,{name:o.name}),r=fa(d.hierarchicalFacets[n],{attribute:t});if(-1!==r){var i={};if(0<c.length){var a=c[0].split(s)[0];i[a]=d.hierarchicalFacets[n][r].data[a]}d.hierarchicalFacets[n][r].data=Ca(i,e,d.hierarchicalFacets[n][r].data)}}),r++}}),ci(f.facetsExcludes,function(e,t){var n=h[t];d.facets[n]={name:t,data:l.facets[t],exhaustive:l.exhaustiveFacetsCount},ci(e,function(e){d.facets[n]=d.facets[n]||{name:t},d.facets[n].data=d.facets[n].data||{},d.facets[n].data[e]=0})}),this.hierarchicalFacets=ki(this.hierarchicalFacets,ys(f)),this.facets=Ga(this.facets),this.disjunctiveFacets=Ga(this.disjunctiveFacets),this._state=f}function _s(e,t){if(!t.data||0===t.data.length)return t;var n=e(ki(t.data,us(_s,e)));return Ua({},t,{data:n})}function xs(e,t){return t.sort(e)}function js(e,t){var n=la(e,{name:t});return n&&n.stats}function Ps(e,t,n,r,i){var a=la(i,{name:n});return{type:t,attributeName:n,name:r,count:Ei(a,"data["+r+"]")||0,exhaustive:Ei(a,"exhaustive")||!1}}Fs.prototype.getFacetByName=function(e){var t={name:e};return la(this.facets,t)||la(this.disjunctiveFacets,t)||la(this.hierarchicalFacets,t)},Fs.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],Fs.prototype.getFacetValues=function(e,t){var n=function(n,r){var e={name:r};if(n._state.isConjunctiveFacet(r)){var t=la(n.facets,e);return t?ki(t.data,function(e,t){return{name:t,count:e,isRefined:n._state.isFacetRefined(r,t),isExcluded:n._state.isExcludeRefined(r,t)}}):[]}if(n._state.isDisjunctiveFacet(r)){var i=la(n.disjunctiveFacets,e);return i?ki(i.data,function(e,t){return{name:t,count:e,isRefined:n._state.isDisjunctiveFacetRefined(r,t)}}):[]}if(n._state.isHierarchicalFacet(r))return la(n.hierarchicalFacets,e)}(this,e);if(!n)throw new Error(e+" is not a retrieved facet.");var r=Ca({},t,{sortBy:Fs.DEFAULT_SORT});if(Array.isArray(r.sortBy)){var i=ds(r.sortBy,Fs.DEFAULT_SORT);return Array.isArray(n)?so(n,i[0],i[1]):_s(ls(so,i[0],i[1]),n)}if(be(r.sortBy))return Array.isArray(n)?n.sort(r.sortBy):_s(us(xs,r.sortBy),n);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},Fs.prototype.getFacetStats=function(e){if(this._state.isConjunctiveFacet(e))return js(this.facets,e);if(this._state.isDisjunctiveFacet(e))return js(this.disjunctiveFacets,e);throw new Error(e+" is not present in `facets` or `disjunctiveFacets`")},Fs.prototype.getRefinements=function(){var n=this._state,r=this,i=[];return ci(n.facetsRefinements,function(e,t){ci(e,function(e){i.push(Ps(n,"facet",t,e,r.facets))})}),ci(n.facetsExcludes,function(e,t){ci(e,function(e){i.push(Ps(n,"exclude",t,e,r.facets))})}),ci(n.disjunctiveFacetsRefinements,function(e,t){ci(e,function(e){i.push(Ps(n,"disjunctive",t,e,r.disjunctiveFacets))})}),ci(n.hierarchicalFacetsRefinements,function(e,t){ci(e,function(e){i.push(function(e,t,n,r){for(var i=la(r,{name:t}),a=e.getHierarchicalFacetByName(t),o=n.split(a.separator),s=o[o.length-1],c=0;void 0!==i&&c<o.length;++c)i=la(i.data,{name:o[c]});var u=Ei(i,"count"),f=Ei(i,"exhaustive");return{type:"hierarchical",attributeName:t,name:s,count:u||0,exhaustive:f||!1}}(n,t,e,r.hierarchicalFacets))})}),ci(n.numericRefinements,function(e,n){ci(e,function(e,t){ci(e,function(e){i.push({type:"numeric",attributeName:n,name:e,numericValue:e,operator:t})})})}),ci(n.tagRefinements,function(e){i.push({type:"tag",attributeName:"_tags",name:e})}),i};var ws=Fs,Ss=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8},Os=Q(function(e){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}),As=Q(function(e,p){var s=/%[sdj%]/g;p.format=function(e){if(!F(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(c(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(e).replace(s,function(e){if("%%"===e)return"%";if(i<=n)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),o=r[n];n<i;o=r[++n])b(o)||!u(o)?a+=" "+o:a+=" "+c(o);return a},p.deprecate=function(e,t){if(_(D.process))return function(){return p.deprecate(e,t).apply(this,arguments)};var n=!1;return function(){return n||(console.error(t),n=!0),e.apply(this,arguments)}};var r,i={};function c(e,t){var n={seen:[],stylize:o};return 3<=arguments.length&&(n.depth=arguments[2]),4<=arguments.length&&(n.colors=arguments[3]),y(t)?n.showHidden=t:t&&p._extend(n,t),_(n.showHidden)&&(n.showHidden=!1),_(n.depth)&&(n.depth=2),_(n.colors)&&(n.colors=!1),_(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=a),d(n,e,n.depth)}function a(e,t){var n=c.styles[t];return n?"["+c.colors[n][0]+"m"+e+"["+c.colors[n][1]+"m":e}function o(e,t){return e}function d(t,n,r){if(t.customInspect&&n&&w(n.inspect)&&n.inspect!==p.inspect&&(!n.constructor||n.constructor.prototype!==n)){var e=n.inspect(r,t);return F(e)||(e=d(t,e,r)),e}var i=function(e,t){if(_(t))return e.stylize("undefined","undefined");if(F(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(R(t))return e.stylize(""+t,"number");if(y(t))return e.stylize(""+t,"boolean");if(b(t))return e.stylize("null","null")}(t,n);if(i)return i;var a,o=Object.keys(n),s=(a={},o.forEach(function(e,t){a[e]=!0}),a);if(t.showHidden&&(o=Object.getOwnPropertyNames(n)),P(n)&&(0<=o.indexOf("message")||0<=o.indexOf("description")))return v(n);if(0===o.length){if(w(n)){var c=n.name?": "+n.name:"";return t.stylize("[Function"+c+"]","special")}if(x(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(j(n))return t.stylize(Date.prototype.toString.call(n),"date");if(P(n))return v(n)}var u,f="",l=!1,h=["{","}"];(g(n)&&(l=!0,h=["[","]"]),w(n))&&(f=" [Function"+(n.name?": "+n.name:"")+"]");return x(n)&&(f=" "+RegExp.prototype.toString.call(n)),j(n)&&(f=" "+Date.prototype.toUTCString.call(n)),P(n)&&(f=" "+v(n)),0!==o.length||l&&0!=n.length?r<0?x(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),u=l?function(t,n,r,i,e){for(var a=[],o=0,s=n.length;o<s;++o)S(n,String(o))?a.push(m(t,n,r,i,String(o),!0)):a.push("");return e.forEach(function(e){e.match(/^\d+$/)||a.push(m(t,n,r,i,e,!0))}),a}(t,n,r,s,o):o.map(function(e){return m(t,n,r,s,e,l)}),t.seen.pop(),function(e,t,n){if(60<e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0))return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(u,f,h)):h[0]+f+h[1]}function v(e){return"["+Error.prototype.toString.call(e)+"]"}function m(e,t,n,r,i,a){var o,s,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),S(r,i)||(o="["+i+"]"),s||(e.seen.indexOf(c.value)<0?-1<(s=b(n)?d(e,c.value,null):d(e,c.value,n-1)).indexOf("\n")&&(s=a?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),_(o)){if(a&&i.match(/^\d+$/))return s;o=(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),e.stylize(o,"string"))}return o+": "+s}function g(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function b(e){return null===e}function R(e){return"number"==typeof e}function F(e){return"string"==typeof e}function _(e){return void 0===e}function x(e){return u(e)&&"[object RegExp]"===t(e)}function u(e){return"object"==typeof e&&null!==e}function j(e){return u(e)&&"[object Date]"===t(e)}function P(e){return u(e)&&("[object Error]"===t(e)||e instanceof Error)}function w(e){return"function"==typeof e}function t(e){return Object.prototype.toString.call(e)}function n(e){return e<10?"0"+e.toString(10):e.toString(10)}p.debuglog=function(t){if(_(r)&&(r=""),t=t.toUpperCase(),!i[t])if(new RegExp("\\b"+t+"\\b","i").test(r)){var n=H.pid;i[t]=function(){var e=p.format.apply(p,arguments);console.error("%s %d: %s",t,n,e)}}else i[t]=function(){};return i[t]},(p.inspect=c).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},p.isArray=g,p.isBoolean=y,p.isNull=b,p.isNullOrUndefined=function(e){return null==e},p.isNumber=R,p.isString=F,p.isSymbol=function(e){return"symbol"==typeof e},p.isUndefined=_,p.isRegExp=x,p.isObject=u,p.isDate=j,p.isError=P,p.isFunction=w,p.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},p.isBuffer=Ss;var f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}p.log=function(){var e,t;console.log("%s - %s",(e=new Date,t=[n(e.getHours()),n(e.getMinutes()),n(e.getSeconds())].join(":"),[e.getDate(),f[e.getMonth()],t].join(" ")),p.format.apply(p,arguments))},p.inherits=Os,p._extend=function(e,t){if(!t||!u(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}});As.format,As.deprecate,As.debuglog,As.inspect,As.isArray,As.isBoolean,As.isNull,As.isNullOrUndefined,As.isNumber,As.isString,As.isSymbol,As.isUndefined,As.isRegExp,As.isObject,As.isDate,As.isError,As.isFunction,As.isPrimitive,As.isBuffer,As.log,As.inherits,As._extend;function Es(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var Ts=Es;function Ns(e){return"function"==typeof e}function Is(e){return"object"==typeof e&&null!==e}function Hs(e){return void 0===e}function Ds(e,t){this.main=e,this.fn=t,this.lastResults=null}(Es.EventEmitter=Es).prototype._events=void 0,Es.prototype._maxListeners=void 0,Es.defaultMaxListeners=10,Es.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},Es.prototype.emit=function(e){var t,n,r,i,a,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||Is(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var s=new Error('Uncaught, unspecified "error" event. ('+t+")");throw s.context=t,s}if(Hs(n=this._events[e]))return!1;if(Ns(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(Is(n))for(i=Array.prototype.slice.call(arguments,1),r=(o=n.slice()).length,a=0;a<r;a++)o[a].apply(this,i);return!0},Es.prototype.on=Es.prototype.addListener=function(e,t){var n;if(!Ns(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,Ns(t.listener)?t.listener:t),this._events[e]?Is(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,Is(this._events[e])&&!this._events[e].warned&&(n=Hs(this._maxListeners)?Es.defaultMaxListeners:this._maxListeners)&&0<n&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},Es.prototype.once=function(e,t){if(!Ns(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},Es.prototype.removeListener=function(e,t){var n,r,i,a;if(!Ns(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(n=this._events[e]).length,r=-1,n===t||Ns(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(Is(n)){for(a=i;0<a--;)if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},Es.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(Ns(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},Es.prototype.listeners=function(e){return this._events&&this._events[e]?Ns(this._events[e])?[this._events[e]]:this._events[e].slice():[]},Es.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(Ns(t))return 1;if(t)return t.length}return 0},Es.listenerCount=function(e,t){return e.listenerCount(t)},As.inherits(Ds,Ts.EventEmitter),Ds.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},Ds.prototype.getModifiedState=function(e){return this.fn(e)};var Qs=Ds,Cs={_getQueries:function(i,a){var o=[];return o.push({indexName:i,params:Cs._getHitsSearchParams(a)}),ci(a.getRefinedDisjunctiveFacets(),function(e){o.push({indexName:i,params:Cs._getDisjunctiveFacetSearchParams(a,e)})}),ci(a.getRefinedHierarchicalFacets(),function(e){var t=a.getHierarchicalFacetByName(e),n=a.getHierarchicalRefinement(e),r=a._getHierarchicalFacetSeparator(t);0<n.length&&1<n[0].split(r).length&&o.push({indexName:i,params:Cs._getDisjunctiveFacetSearchParams(a,e,!0)})}),o},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(Cs._getHitsHierarchicalFacetsAttributes(e)),n=Cs._getFacetFilters(e),r=Cs._getNumericFilters(e),i={facets:t,tagFilters:Cs._getTagFilters(e)};return 0<n.length&&(i.facetFilters=n),0<r.length&&(i.numericFilters=r),Ua(e.getQueryParams(),i)},_getDisjunctiveFacetSearchParams:function(e,t,n){var r=Cs._getFacetFilters(e,t,n),i=Cs._getNumericFilters(e,t),a={hitsPerPage:1,page:0,attributesToRetrieve:[],attributesToHighlight:[],attributesToSnippet:[],tagFilters:Cs._getTagFilters(e),analytics:!1,clickAnalytics:!1},o=e.getHierarchicalFacetByName(t);return a.facets=o?Cs._getDisjunctiveHierarchicalFacetAttribute(e,o,n):t,0<i.length&&(a.numericFilters=i),0<r.length&&(a.facetFilters=r),Ua(e.getQueryParams(),a)},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var i=[];return ci(e.numericRefinements,function(e,r){ci(e,function(e,n){t!==r&&ci(e,function(e){if(Array.isArray(e)){var t=ki(e,function(e){return r+n+e});i.push(t)}else i.push(r+n+e)})})}),i},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(c,u,f){var l=[];return ci(c.facetsRefinements,function(e,t){ci(e,function(e){l.push(t+":"+e)})}),ci(c.facetsExcludes,function(e,t){ci(e,function(e){l.push(t+":-"+e)})}),ci(c.disjunctiveFacetsRefinements,function(e,t){if(t!==u&&e&&0!==e.length){var n=[];ci(e,function(e){n.push(t+":"+e)}),l.push(n)}}),ci(c.hierarchicalFacetsRefinements,function(e,t){var n=e[0];if(void 0!==n){var r,i,a=c.getHierarchicalFacetByName(t),o=c._getHierarchicalFacetSeparator(a),s=c._getHierarchicalRootPath(a);if(u===t){if(-1===n.indexOf(o)||!s&&!0===f||s&&s.split(o).length===n.split(o).length)return;n=s?(i=s.split(o).length-1,s):(i=n.split(o).length-2,n.slice(0,n.lastIndexOf(o))),r=a.attributes[i]}else i=n.split(o).length-1,r=a.attributes[i];r&&l.push([r+":"+n])}}),l},_getHitsHierarchicalFacetsAttributes:function(o){return zi(o.hierarchicalFacets,function(e,t){var n=o.getHierarchicalRefinement(t.name)[0];if(!n)return e.push(t.attributes[0]),e;var r=o._getHierarchicalFacetSeparator(t),i=n.split(r).length,a=t.attributes.slice(0,i+1);return e.concat(a)},[])},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,n){var r=e._getHierarchicalFacetSeparator(t);if(!0===n){var i=e._getHierarchicalRootPath(t),a=0;return i&&(a=i.split(r).length),[t.attributes[a]]}var o=(e.getHierarchicalRefinement(t.name)[0]||"").split(r).length-1;return t.attributes.slice(0,o+1)},getSearchForFacetQuery:function(e,t,n,r){var i=r.isDisjunctiveFacet(e)?r.clearRefinements(e):r,a={facetQuery:t,facetName:e};return"number"==typeof n&&(a.maxFacetHits=n),Ua(Cs._getHitsSearchParams(i),a)}},Ls=Cs;var Bs=function(e,r,i,a){return ii(e,function(e,t,n){r(a,i(e),t,n)}),a};var Ms=function(n,r){return function(e,t){return Bs(e,n,r(t),{})}},ks=Object.prototype.toString,qs=Ms(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ks.call(t)),e[t]=n},Ir(Hr)),Us={advancedSyntax:"aS",allowTyposOnNumericTokens:"aTONT",analyticsTags:"aT",analytics:"a",aroundLatLngViaIP:"aLLVIP",aroundLatLng:"aLL",aroundPrecision:"aP",aroundRadius:"aR",attributesToHighlight:"aTH",attributesToRetrieve:"aTR",attributesToSnippet:"aTS",disjunctiveFacetsRefinements:"dFR",disjunctiveFacets:"dF",distinct:"d",facetsExcludes:"fE",facetsRefinements:"fR",facets:"f",getRankingInfo:"gRI",hierarchicalFacetsRefinements:"hFR",hierarchicalFacets:"hF",highlightPostTag:"hPoT",highlightPreTag:"hPrT",hitsPerPage:"hPP",ignorePlurals:"iP",index:"idx",insideBoundingBox:"iBB",insidePolygon:"iPg",length:"l",maxValuesPerFacet:"mVPF",minimumAroundRadius:"mAR",minProximity:"mP",minWordSizefor1Typo:"mWS1T",minWordSizefor2Typos:"mWS2T",numericFilters:"nF",numericRefinements:"nR",offset:"o",optionalWords:"oW",page:"p",queryType:"qT",query:"q",removeWordsIfNoResults:"rWINR",replaceSynonymsInHighlight:"rSIH",restrictSearchableAttributes:"rSA",synonyms:"s",tagFilters:"tF",tagRefinements:"tR",typoTolerance:"tT",optionalTagFilters:"oTF",optionalFacetFilters:"oFF",snippetEllipsisText:"sET",disableExactOnAttributes:"dEOA",enableExactOnSingleWordQuery:"eEOSWQ"},zs=qs(Us),Vs={ENCODED_PARAMETERS:Qt(zs),decode:function(e){return zs[e]},encode:function(e){return Us[e]}},Ws=Q(function(e,a){var o=Object.prototype.hasOwnProperty,s=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}();a.arrayToObject=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n},a.merge=function(n,r,i){if(!r)return n;if("object"!=typeof r){if(Array.isArray(n))n.push(r);else{if("object"!=typeof n)return[n,r];(i.plainObjects||i.allowPrototypes||!o.call(Object.prototype,r))&&(n[r]=!0)}return n}if("object"!=typeof n)return[n].concat(r);var e=n;return Array.isArray(n)&&!Array.isArray(r)&&(e=a.arrayToObject(n,i)),Array.isArray(n)&&Array.isArray(r)?(r.forEach(function(e,t){o.call(n,t)?n[t]&&"object"==typeof n[t]?n[t]=a.merge(n[t],e,i):n.push(e):n[t]=e}),n):Object.keys(r).reduce(function(e,t){var n=r[t];return o.call(e,t)?e[t]=a.merge(e[t],n,i):e[t]=n,e},e)},a.assign=function(e,n){return Object.keys(n).reduce(function(e,t){return e[t]=n[t],e},e)},a.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},a.encode=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),n="",r=0;r<t.length;++r){var i=t.charCodeAt(r);45===i||46===i||95===i||126===i||48<=i&&i<=57||65<=i&&i<=90||97<=i&&i<=122?n+=t.charAt(r):i<128?n+=s[i]:i<2048?n+=s[192|i>>6]+s[128|63&i]:i<55296||57344<=i?n+=s[224|i>>12]+s[128|i>>6&63]+s[128|63&i]:(r+=1,i=65536+((1023&i)<<10|1023&t.charCodeAt(r)),n+=s[240|i>>18]+s[128|i>>12&63]+s[128|i>>6&63]+s[128|63&i])}return n},a.compact=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],a=i.obj[i.prop],o=Object.keys(a),s=0;s<o.length;++s){var c=o[s],u=a[c];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:a,prop:c}),n.push(u))}return function(e){for(var t;e.length;){var n=e.pop();if(t=n.obj[n.prop],Array.isArray(t)){for(var r=[],i=0;i<t.length;++i)void 0!==t[i]&&r.push(t[i]);n.obj[n.prop]=r}}return t}(t)},a.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},a.isBuffer=function(e){return null!=e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}}),$s=(Ws.arrayToObject,Ws.merge,Ws.assign,Ws.decode,Ws.encode,Ws.compact,Ws.isRegExp,Ws.isBuffer,String.prototype.replace),Js=/%20/g,Ys={default:"RFC3986",formatters:{RFC1738:function(e){return $s.call(e,Js,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"},Gs={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},Zs=Date.prototype.toISOString,Ks={delimiter:"&",encode:!0,encoder:Ws.encode,encodeValuesOnly:!1,serializeDate:function(e){return Zs.call(e)},skipNulls:!1,strictNullHandling:!1},Xs=function e(t,n,r,i,a,o,s,c,u,f,l,h){var p=t;if("function"==typeof s)p=s(n,p);else if(p instanceof Date)p=f(p);else if(null===p){if(i)return o&&!h?o(n,Ks.encoder):n;p=""}if("string"==typeof p||"number"==typeof p||"boolean"==typeof p||Ws.isBuffer(p))return o?[l(h?n:o(n,Ks.encoder))+"="+l(o(p,Ks.encoder))]:[l(n)+"="+l(String(p))];var d,v=[];if(void 0===p)return v;if(Array.isArray(s))d=s;else{var m=Object.keys(p);d=c?m.sort(c):m}for(var g=0;g<d.length;++g){var y=d[g];a&&null===p[y]||(v=Array.isArray(p)?v.concat(e(p[y],r(n,y),r,i,a,o,s,c,u,f,l,h)):v.concat(e(p[y],n+(u?"."+y:"["+y+"]"),r,i,a,o,s,c,u,f,l,h)))}return v},ec=Object.prototype.hasOwnProperty,tc={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:Ws.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},nc=function(e,t,n){if(e){var r=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(r),o=a?r.slice(0,a.index):r,s=[];if(o){if(!n.plainObjects&&ec.call(Object.prototype,o)&&!n.allowPrototypes)return;s.push(o)}for(var c=0;null!==(a=i.exec(r))&&c<n.depth;){if(c+=1,!n.plainObjects&&ec.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;s.push(a[1])}return a&&s.push("["+r.slice(a.index)+"]"),function(e,t,n){for(var r=t,i=e.length-1;0<=i;--i){var a,o=e[i];if("[]"===o)a=(a=[]).concat(r);else{a=n.plainObjects?Object.create(null):{};var s="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,c=parseInt(s,10);!isNaN(c)&&o!==s&&String(c)===s&&0<=c&&n.parseArrays&&c<=n.arrayLimit?(a=[])[c]=r:a[s]=r}r=a}return r}(s,t,n)}},rc=function(e,t){var n=t?Ws.assign({},t):{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=!0===n.ignoreQueryPrefix,n.delimiter="string"==typeof n.delimiter||Ws.isRegExp(n.delimiter)?n.delimiter:tc.delimiter,n.depth="number"==typeof n.depth?n.depth:tc.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:tc.arrayLimit,n.parseArrays=!1!==n.parseArrays,n.decoder="function"==typeof n.decoder?n.decoder:tc.decoder,n.allowDots="boolean"==typeof n.allowDots?n.allowDots:tc.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:tc.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:tc.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:tc.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:tc.strictNullHandling,""===e||null==e)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof e?function(e,t){for(var n={},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=t.parameterLimit===1/0?void 0:t.parameterLimit,a=r.split(t.delimiter,i),o=0;o<a.length;++o){var s,c,u=a[o],f=u.indexOf("]="),l=-1===f?u.indexOf("="):f+1;c=-1===l?(s=t.decoder(u,tc.decoder),t.strictNullHandling?null:""):(s=t.decoder(u.slice(0,l),tc.decoder),t.decoder(u.slice(l+1),tc.decoder)),ec.call(n,s)?n[s]=[].concat(n[s]).concat(c):n[s]=c}return n}(e,n):e,i=n.plainObjects?Object.create(null):{},a=Object.keys(r),o=0;o<a.length;++o){var s=a[o],c=nc(s,r[s],n);i=Ws.merge(i,c,n)}return Ws.compact(i)},ic=function(e,t){var n=e,r=t?Ws.assign({},t):{};if(null!==r.encoder&&void 0!==r.encoder&&"function"!=typeof r.encoder)throw new TypeError("Encoder has to be a function.");var i=void 0===r.delimiter?Ks.delimiter:r.delimiter,a="boolean"==typeof r.strictNullHandling?r.strictNullHandling:Ks.strictNullHandling,o="boolean"==typeof r.skipNulls?r.skipNulls:Ks.skipNulls,s="boolean"==typeof r.encode?r.encode:Ks.encode,c="function"==typeof r.encoder?r.encoder:Ks.encoder,u="function"==typeof r.sort?r.sort:null,f=void 0!==r.allowDots&&r.allowDots,l="function"==typeof r.serializeDate?r.serializeDate:Ks.serializeDate,h="boolean"==typeof r.encodeValuesOnly?r.encodeValuesOnly:Ks.encodeValuesOnly;if(void 0===r.format)r.format=Ys.default;else if(!Object.prototype.hasOwnProperty.call(Ys.formatters,r.format))throw new TypeError("Unknown format option provided.");var p,d,v=Ys.formatters[r.format];"function"==typeof r.filter?n=(d=r.filter)("",n):Array.isArray(r.filter)&&(p=d=r.filter);var m,g=[];if("object"!=typeof n||null===n)return"";m=r.arrayFormat in Gs?r.arrayFormat:"indices"in r?r.indices?"indices":"repeat":"indices";var y=Gs[m];p||(p=Object.keys(n)),u&&p.sort(u);for(var b=0;b<p.length;++b){var R=p[b];o&&null===n[R]||(g=g.concat(Xs(n[R],R,y,a,o,s?c:null,d,u,f,l,v,h)))}var F=g.join(i),_=!0===r.addQueryPrefix?"?":"";return 0<F.length?_+F:""},ac=Xr(function(e,t,n){var r=1;if(n.length){var i=Wo(n,qo(ac));r|=32}return ss(e,r,t,n,i)});ac.placeholder={};var oc=ac;var sc=function(n,e){return ms(n,e,function(e,t){return Ii(n,t)})},cc=Br(function(e,t){return null==e?{}:sc(e,t)});var uc=function(e,r){var i={};return r=Li(r,3),ii(e,function(e,t,n){it(i,r(e,t,n),e)}),i};var fc=function(e,r){var i={};return r=Li(r,3),ii(e,function(e,t,n){it(i,t,r(e,t,n))}),i},lc=Ws.encode;function hc(e){return jr(e)?fc(e,hc):Array.isArray(e)?ki(e,hc):sa(e)?lc(e):e}var pc=["dFR","fR","nR","hFR","tR"],dc=Vs.ENCODED_PARAMETERS;function vc(e,t,n,r){if(null!==e&&(n=n.replace(e,""),r=r.replace(e,"")),n=t[n]||n,r=t[r]||r,-1!==dc.indexOf(n)||-1!==dc.indexOf(r)){if("q"===n)return-1;if("q"===r)return 1;var i=-1!==pc.indexOf(n),a=-1!==pc.indexOf(r);if(i&&!a)return 1;if(a&&!i)return-1}return n.localeCompare(r)}var mc={getStateFromQueryString:function(e,t){var r=t&&t.prefix||"",n=t&&t.mapping||{},i=qs(n),a=rc(e),o=new RegExp("^"+r),s=uc(a,function(e,t){var n=r&&o.test(t)?t.replace(o,""):t;return Vs.decode(i[n]||n)||n}),c=Ya._parseNumbers(s);return cc(c,Ya.PARAMETERS)},getUnrecognizedParametersInQueryString:function(e,t){var n=t&&t.prefix,r=t&&t.mapping||{},i=qs(r),a={},o=rc(e);if(n){var s=new RegExp("^"+n);ci(o,function(e,t){s.test(t)||(a[t]=e)})}else ci(o,function(e,t){Vs.decode(i[t]||t)||(a[t]=e)});return a},getQueryStringFromState:function(e,t){var n=t&&t.moreAttributes,r=t&&t.prefix||"",i=t&&t.mapping||{},a=t&&t.safe||!1,o=qs(i),s=a?e:hc(e),c=uc(s,function(e,t){var n=Vs.encode(t);return r+(i[n]||n)}),u=""===r?null:new RegExp("^"+r),f=oc(vc,null,u,o);if(ia(n))return ic(c,{encode:a,sort:f});var l=ic(c,{encode:a,sort:f}),h=ic(n,{encode:a});return l?l+"&"+h:h}},gc="2.26.0";function yc(e,t,n){e.addAlgoliaAgent&&!Fc(e)&&e.addAlgoliaAgent("JS Helper "+gc),this.setClient(e);var r=n||{};r.index=t,this.state=Ya.make(r),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0}function bc(e){if(e<0)throw new Error("Page requested below 0.");return this._change(this.state.setPage(e)),this}function Rc(){return this.state.page}function Fc(e){var t=e._ua;return!!t&&-1!==t.indexOf("JS Helper")}As.inherits(yc,Ts.EventEmitter),yc.prototype.search=function(){return this._search(),this},yc.prototype.getQuery=function(){var e=this.state;return Ls._getHitsSearchParams(e)},yc.prototype.searchOnce=function(e,t){var n=e?this.state.setQueryParameters(e):this.state,r=Ls._getQueries(n.index,n),i=this;if(this._currentNbQueries++,this.emit("searchOnce",n),!t)return this.client.search(r).then(function(e){return i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),{content:new ws(n,e.results),state:n,_originalResponse:e}},function(e){throw i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),e});this.client.search(r).then(function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(null,new ws(n,e.results),n)}).catch(function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(e,null,n)})},yc.prototype.searchForFacetValues=function(t,e,n,r){var i=this.state.setQueryParameters(r||{}),a=i.isDisjunctiveFacet(t),o=Ls.getSearchForFacetQuery(t,e,n,i);this._currentNbQueries++;var s=this;return this.emit("searchForFacetValues",i,t,e),("function"==typeof this.client.searchForFacetValues?this.client.searchForFacetValues([{indexName:i.index,params:o}]):this.client.initIndex(i.index).searchForFacetValues(o)).then(function(e){return s._currentNbQueries--,0===s._currentNbQueries&&s.emit("searchQueueEmpty"),(e=Array.isArray(e)?e[0]:e).facetHits=ci(e.facetHits,function(e){e.isRefined=a?i.isDisjunctiveFacetRefined(t,e.value):i.isFacetRefined(t,e.value)}),e},function(e){throw s._currentNbQueries--,0===s._currentNbQueries&&s.emit("searchQueueEmpty"),e})},yc.prototype.setQuery=function(e){return this._change(this.state.setPage(0).setQuery(e)),this},yc.prototype.clearRefinements=function(e){return this._change(this.state.setPage(0).clearRefinements(e)),this},yc.prototype.clearTags=function(){return this._change(this.state.setPage(0).clearTags()),this},yc.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change(this.state.setPage(0).addDisjunctiveFacetRefinement(e,t)),this},yc.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},yc.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change(this.state.setPage(0).addHierarchicalFacetRefinement(e,t)),this},yc.prototype.addNumericRefinement=function(e,t,n){return this._change(this.state.setPage(0).addNumericRefinement(e,t,n)),this},yc.prototype.addFacetRefinement=function(e,t){return this._change(this.state.setPage(0).addFacetRefinement(e,t)),this},yc.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},yc.prototype.addFacetExclusion=function(e,t){return this._change(this.state.setPage(0).addExcludeRefinement(e,t)),this},yc.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},yc.prototype.addTag=function(e){return this._change(this.state.setPage(0).addTagRefinement(e)),this},yc.prototype.removeNumericRefinement=function(e,t,n){return this._change(this.state.setPage(0).removeNumericRefinement(e,t,n)),this},yc.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change(this.state.setPage(0).removeDisjunctiveFacetRefinement(e,t)),this},yc.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},yc.prototype.removeHierarchicalFacetRefinement=function(e){return this._change(this.state.setPage(0).removeHierarchicalFacetRefinement(e)),this},yc.prototype.removeFacetRefinement=function(e,t){return this._change(this.state.setPage(0).removeFacetRefinement(e,t)),this},yc.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},yc.prototype.removeFacetExclusion=function(e,t){return this._change(this.state.setPage(0).removeExcludeRefinement(e,t)),this},yc.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},yc.prototype.removeTag=function(e){return this._change(this.state.setPage(0).removeTagRefinement(e)),this},yc.prototype.toggleFacetExclusion=function(e,t){return this._change(this.state.setPage(0).toggleExcludeFacetRefinement(e,t)),this},yc.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},yc.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)},yc.prototype.toggleFacetRefinement=function(e,t){return this._change(this.state.setPage(0).toggleFacetRefinement(e,t)),this},yc.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},yc.prototype.toggleTag=function(e){return this._change(this.state.setPage(0).toggleTagRefinement(e)),this},yc.prototype.nextPage=function(){return this.setPage(this.state.page+1)},yc.prototype.previousPage=function(){return this.setPage(this.state.page-1)},yc.prototype.setCurrentPage=bc,yc.prototype.setPage=bc,yc.prototype.setIndex=function(e){return this._change(this.state.setPage(0).setIndex(e)),this},yc.prototype.setQueryParameter=function(e,t){return this._change(this.state.setPage(0).setQueryParameter(e,t)),this},yc.prototype.setState=function(e){return this._change(Ya.make(e)),this},yc.prototype.getState=function(e){return void 0===e?this.state:this.state.filter(e)},yc.prototype.getStateAsQueryString=function(e){var t=e&&e.filters||["query","attribute:*"],n=this.getState(t);return mc.getQueryStringFromState(n,e)},yc.getConfigurationFromQueryString=mc.getStateFromQueryString,yc.getForeignConfigurationInQueryString=mc.getUnrecognizedParametersInQueryString,yc.prototype.setStateFromQueryString=function(e,t){var n=t&&t.triggerChange||!1,r=mc.getStateFromQueryString(e,t),i=this.state.setQueryParameters(r);n?this.setState(i):this.overrideStateWithoutTriggeringChangeEvent(i)},yc.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new Ya(e),this},yc.prototype.isRefined=function(e,t){if(this.state.isConjunctiveFacet(e))return this.state.isFacetRefined(e,t);if(this.state.isDisjunctiveFacet(e))return this.state.isDisjunctiveFacetRefined(e,t);throw new Error(e+" is not properly defined in this helper configuration(use the facets or disjunctiveFacets keys to configure it)")},yc.prototype.hasRefinements=function(e){return!ia(this.state.getNumericRefinements(e))||(this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):!!this.state.isHierarchicalFacet(e)&&this.state.isHierarchicalFacetRefined(e))},yc.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},yc.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},yc.prototype.hasTag=function(e){return this.state.isTagRefined(e)},yc.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},yc.prototype.getIndex=function(){return this.state.index},yc.prototype.getCurrentPage=Rc,yc.prototype.getPage=Rc,yc.prototype.getTags=function(){return this.state.tagRefinements},yc.prototype.getQueryParameter=function(e){return this.state.getQueryParameter(e)},yc.prototype.getRefinements=function(e){var n=[];if(this.state.isConjunctiveFacet(e)){var t=this.state.getConjunctiveRefinements(e);ci(t,function(e){n.push({value:e,type:"conjunctive"})});var r=this.state.getExcludeRefinements(e);ci(r,function(e){n.push({value:e,type:"exclude"})})}else if(this.state.isDisjunctiveFacet(e)){var i=this.state.getDisjunctiveRefinements(e);ci(i,function(e){n.push({value:e,type:"disjunctive"})})}var a=this.state.getNumericRefinements(e);return ci(a,function(e,t){n.push({value:e,operator:t,type:"numeric"})}),n},yc.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)},yc.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)},yc.prototype._search=function(){var r=this.state,e=Ls._getQueries(r.index,r),i=[{state:r,queriesCount:e.length,helper:this}];this.emit("search",r,this.lastResults);var t=ki(this.derivedHelpers,function(e){var t=e.getModifiedState(r),n=Ls._getQueries(t.index,t);return i.push({state:t,queriesCount:n.length,helper:e}),e.emit("search",t,e.lastResults),n}),n=e.concat(Ar(t)),a=this._queryId++;this._currentNbQueries++;try{this.client.search(n).then(this._dispatchAlgoliaResponse.bind(this,i,a)).catch(this._dispatchAlgoliaError.bind(this,a))}catch(e){this.emit("error",e)}},yc.prototype._dispatchAlgoliaResponse=function(e,t,n){if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,0===this._currentNbQueries&&this.emit("searchQueueEmpty");var o=n.results;ci(e,function(e){var t=e.state,n=e.queriesCount,r=e.helper,i=o.splice(0,n),a=r.lastResults=new ws(t,i);r.emit("result",a,t)})}},yc.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",t),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},yc.prototype.containsRefinement=function(e,t,n,r){return e||0!==t.length||0!==n.length||0!==r.length},yc.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&0<this.state.disjunctiveRefinements[e].length},yc.prototype._change=function(e){e!==this.state&&(this.state=e,this.emit("change",this.state,this.lastResults))},yc.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},yc.prototype.setClient=function(e){return this.client===e||(e.addAlgoliaAgent&&!Fc(e)&&e.addAlgoliaAgent("JS Helper "+gc),this.client=e),this},yc.prototype.getClient=function(){return this.client},yc.prototype.derive=function(e){var t=new Qs(this,e);return this.derivedHelpers.push(t),t},yc.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(-1===t)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)},yc.prototype.hasPendingRequests=function(){return 0<this._currentNbQueries};var _c=yc;function xc(e,t,n){return new _c(e,t,n)}xc.version=gc,xc.AlgoliaSearchHelper=_c,xc.SearchParameters=Ya,xc.SearchResults=ws,xc.url=mc;var jc=xc,Pc=function(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=Object.prototype.hasOwnProperty,a=0;a<n.length;a++)if(!i.call(t,n[a])||e[n[a]]!==t[n[a]])return!1;return!0};function wc(e,n,r){return e.map(function(e,t){return q({},e,{__position:n*r+t+1})})}function Sc(e,t){return t?e.map(function(e){return q({},e,{__queryID:t})}):e}var Oc="<ais-highlight-0000000000>",Ac="</ais-highlight-0000000000>";function Ec(e){var t=e.preTag,n=e.postTag,r=e.highlightedValue,i=(void 0===r?"":r).split(t),a=i.shift(),o=""===a?[]:[{value:a,isHighlighted:!1}];if(n===t){var s=!0;i.forEach(function(e){o.push({value:e,isHighlighted:s}),s=!s})}else i.forEach(function(e){var t=e.split(n);o.push({value:t[0],isHighlighted:!0}),""!==t[1]&&o.push({value:t[1],isHighlighted:!1})});return o}function Tc(e){return e&&e.multiIndexContext?e.multiIndexContext.targetedIndex:e.ais.mainTargetedIndex}function Nc(e,t){return e.results&&!e.results.hits?e.results[Tc(t)]?e.results[Tc(t)]:null:e.results?e.results:null}function Ic(e){return e&&e.multiIndexContext}function Hc(t,e,n,r,i){if(Ic(n)){var a=Tc(n);return i?(m=e,g=a,y=i,R=r?{page:1}:void 0,F=(v=t).indices&&v.indices[g]?q({},v.indices,_({},g,q({},v.indices[g],(_(b={},y,q({},v.indices[g][y],m)),_(b,"page",1),b)))):q({},v.indices,_({},g,q(_({},y,m),R))),q({},v,{indices:F})):(l=e,h=a,p=r?{page:1}:void 0,d=(f=t).indices&&f.indices[h]?q({},f.indices,_({},h,q({},f.indices[h],l,p))):q({},f.indices,_({},h,q({},l,p))),q({},f,{indices:d}))}return t.indices&&r&&Object.keys(t.indices).forEach(function(e){t=Hc(t,{page:1},{multiIndexContext:{targetedIndex:e}},!0,i)}),i?(s=e,u=r?{page:1}:void 0,q({},o=t,_({},c=i,q({},o[c],s)),u)):q({},t,e,r?{page:1}:void 0);var o,s,c,u,f,l,h,p,d,v,m,g,y,b,R,F}function Dc(e){var t=e.match(/^([^.]*)\.(.*)/);return{namespace:t&&t[1],attributeName:t&&t[2]}}function Qc(e,t,n,r,i){var a,o,s,c,u,f,l,h,p,d,v,m,g,y,b=Tc(n),R=Dc(r),F=R.namespace,_=R.attributeName,x={multiIndex:Ic(n),indexId:b,namespace:F,attributeName:_,id:r,searchState:t};return(o=(a=x).multiIndex,s=a.indexId,c=a.namespace,u=a.attributeName,f=a.id,l=a.searchState,o&&c?l.indices&&l.indices[s]&&l.indices[s][c]&&l.indices[s][c].hasOwnProperty(u):o?l.indices&&l.indices[s]&&l.indices[s].hasOwnProperty(f):c?l[c]&&l[c].hasOwnProperty(u):l.hasOwnProperty(f))?(p=(h=x).multiIndex,d=h.indexId,v=h.namespace,m=h.attributeName,g=h.id,y=h.searchState,p&&v?y.indices[d][v][m]:p?y.indices[d][g]:v?y[v][m]:y[g]):e.defaultRefinement?e.defaultRefinement:i}function Cc(e,t,n){var r=Tc(t),i=Dc(n),a=i.namespace,o=i.attributeName;return Ic(t)&&Boolean(e.indices)?function(e){var t=e.searchState,n=e.indexId,r=e.id,i=e.namespace,a=e.attribute,o=t.indices[n];if(i&&o)return q({},t,{indices:q({},t.indices,_({},n,q({},o,_({},i,Mr(o[i],a)))))});return Mr(t,"indices.".concat(n,".").concat(r))}({attribute:o,searchState:e,indexId:r,id:n,namespace:a}):function(e){var t=e.searchState,n=e.id,r=e.namespace,i=e.attribute;if(r)return q({},t,_({},r,Mr(t[r],i)));return Mr(t,n)}({attribute:o,searchState:e,id:n,namespace:a})}function Lc(){return(Lc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Bc=Object.prototype.hasOwnProperty;var Mc=function(e,t){return null!=e&&Bc.call(e,t)};var kc=function(e,t){return null!=e&&Ni(e,t,Mc)};function qc(f){if(!f.displayName)throw new Error("`createConnector` requires you to provide a `displayName` property.");var a=kc(f,"refine"),o=kc(f,"searchForFacetValues"),c=kc(f,"getSearchParameters"),u=kc(f,"getMetadata"),l=kc(f,"transitionState"),h=kc(f,"cleanUp"),p=kc(f,"shouldComponentUpdate"),d=c||u||l;return function(i){var e,t,n;return t=e=function(e){function s(){var e,i,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=this,n=(e=R(s)).call.apply(e,[this].concat(a)),_(b(i=!n||"object"!==y(n)&&"function"!=typeof n?b(t):n),"mounted",!1),_(b(i),"unmounting",!1),_(b(i),"refine",function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];i.context.ais.onInternalStateUpdate((e=f.refine).call.apply(e,[b(i),i.props,i.context.ais.store.getState().widgets].concat(n)))}),_(b(i),"createURL",function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return i.context.ais.createHrefForState((e=f.refine).call.apply(e,[b(i),i.props,i.context.ais.store.getState().widgets].concat(n)))}),_(b(i),"searchForFacetValues",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.context.ais.onSearchForFacetValues(f.searchForFacetValues.apply(f,[i.props,i.context.ais.store.getState().widgets].concat(t)))}),i.state={props:i.getProvidedProps(q({},i.props,{canRender:!1}))},i}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(s,v.Component),t=s,(n=[{key:"componentWillMount",value:function(){f.getSearchParameters&&this.context.ais.onSearchParameters(f.getSearchParameters.bind(this),this.context,this.props)}},{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.unsubscribe=this.context.ais.store.subscribe(function(){e.unmounting||e.setState({props:e.getProvidedProps(q({},e.props,{canRender:!0}))})}),d&&(this.unregisterWidget=this.context.ais.widgetsManager.registerWidget(this))}},{key:"componentWillReceiveProps",value:function(e){aa(this.props,e)||(this.setState({props:this.getProvidedProps(q({},e,{canRender:this.mounted}))}),d&&(this.context.ais.widgetsManager.update(),f.transitionState&&this.context.ais.onSearchStateChange(f.transitionState.call(this,e,this.context.ais.store.getState().widgets,this.context.ais.store.getState().widgets))))}},{key:"shouldComponentUpdate",value:function(e,t){if(p)return f.shouldComponentUpdate.call(this,this.props,e,this.state,t);var n=Pc(this.props,e);return null===this.state.props||null===t.props?this.state.props!==t.props||!n:!n||!Pc(this.state.props,t.props)}},{key:"componentWillUnmount",value:function(){if(this.unmounting=!0,this.unsubscribe&&this.unsubscribe(),this.unregisterWidget&&(this.unregisterWidget(),h)){var e=f.cleanUp.call(this,this.props,this.context.ais.store.getState().widgets);this.context.ais.store.setState(q({},this.context.ais.store.getState(),{widgets:e})),this.context.ais.onSearchStateChange(function n(r){return Object.keys(r).forEach(function(e){var t=r[e];ia(t)&&jr(t)?delete r[e]:jr(t)&&n(t)}),r}(e))}}},{key:"getProvidedProps",value:function(e){var t=this.context.ais.store.getState(),n=t.widgets,r=t.results,i=t.resultsFacetValues,a=t.searching,o=t.searchingForFacetValues,s=t.isSearchStalled,c=t.metadata,u={results:r,searching:a,searchingForFacetValues:o,isSearchStalled:s,error:t.error};return f.getProvidedProps.call(this,e,n,u,c,i)}},{key:"getSearchParameters",value:function(e){return c?f.getSearchParameters.call(this,e,this.props,this.context.ais.store.getState().widgets):null}},{key:"getMetadata",value:function(e){return u?f.getMetadata.call(this,this.props,e):{}}},{key:"transitionState",value:function(e,t){return l?f.transitionState.call(this,this.props,e,t):t}},{key:"render",value:function(){if(null===this.state.props)return null;var e=a?{refine:this.refine,createURL:this.createURL}:{},t=o?{searchForItems:this.searchForFacetValues}:{};return m.createElement(i,Lc({},this.props,this.state.props,e,t))}}])&&g(t.prototype,n),r&&g(t,r),s}(),_(e,"displayName","".concat(f.displayName,"(").concat((n=i).displayName||n.name||"UnknownComponent",")")),_(e,"defaultClassNames",i.defaultClassNames),_(e,"propTypes",f.propTypes),_(e,"defaultProps",f.defaultProps),_(e,"contextTypes",{ais:k.object.isRequired,multiIndexContext:k.object}),t}}var Uc=function(e,t,n,r){var i=-1,a=Jr,o=!0,s=e.length,c=[],u=t.length;if(!s)return c;n&&(t=U(t,xt(n))),r?(a=Yr,o=!1):200<=t.length&&(a=Gr,o=!1,t=new Ur(t));e:for(;++i<s;){var f=e[i],l=null==n?f:n(f);if(f=r||0!==f?f:0,o&&l==l){for(var h=u;h--;)if(t[h]===l)continue e;c.push(f)}else a(t,l,r)||c.push(f)}return c},zc=Xr(function(e,t){return ei(e)?Uc(e,Or(t,1,ei,!0)):[]});var Vc=qc({displayName:"AlgoliaConfigure",getProvidedProps:function(){return{}},getSearchParameters:function(e,t){var n=Mr(t,"children");return e.setQueryParameters(n)},transitionState:function(e,t,n){var r=Mr(e,"children"),i=this._props?zc(Qt(this._props),Qt(e)):[];return this._props=e,Hc(n,_({},"configure",q({},Mr(n.configure,i),r)),this.context)},cleanUp:function(n,e){var r="configure",t=Tc(this.context),i=Ic(this.context)&&e.indices?e.indices[t]:e,a=(i&&i[r]?Object.keys(i[r]):[]).reduce(function(e,t){return n[t]||(e[t]=i[r][t]),e},{});return Hc(e,_({},r,a),this.context)}});function Wc(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function $c(e,t,n){var r=Qc(e,t,n,"query","");return r||""}var Jc=qc({displayName:"AlgoliaAutoComplete",getProvidedProps:function(e,t,n){return{hits:(r=n,r.results?r.results.hits&&Array.isArray(r.results.hits)?r.results.hits:Object.keys(r.results).reduce(function(e,t){return[].concat(Wc(e),[{index:t,hits:r.results[t].hits}])},[]):[]),currentRefinement:$c(e,t,this.context)};var r},refine:function(e,t,n){return r=t,i=n,a=this.context,Hc(r,_({},"query",i),a,!0);var r,i,a},cleanUp:function(e,t){return n=t,r=this.context,Cc(n,r,"query");var n,r},getSearchParameters:function(e,t,n){return e.setQuery($c(t,n,this.context))}}),Yc=function(e){return e.attributes[0]};var Gc=qc({displayName:"AlgoliaBreadcrumb",propTypes:{attributes:function(e,t,n){if(!Array.isArray(e[t])||e[t].some(function(e){return"string"!=typeof e})||e[t].length<1)return new Error("Invalid prop ".concat(t," supplied to ").concat(n,". Expected an Array of Strings"))},transformItems:k.func},getProvidedProps:function(e,t,n){var r=Yc(e),i=Nc(n,this.context);if(!(Boolean(i)&&Boolean(i.getFacetByName(r))))return{items:[],canRefine:!1};var a=i.getFacetValues(r),o=a.data?function n(e){return e.reduce(function(e,t){return t.isRefined&&(e.push({label:t.name,value:t.path}),t.data&&(e=e.concat(n(t.data)))),e},[])}(a.data):[],s=e.transformItems?e.transformItems(o):o;return{canRefine:0<s.length,items:s}},refine:function(e,t,n){return r=e,i=t,a=n,o=this.context,Hc(i,_({},Yc(r),a||""),o,!0,"hierarchicalMenu");var r,i,a,o}}),Zc=qc({displayName:"AlgoliaCurrentRefinements",propTypes:{transformItems:k.func},getProvidedProps:function(n,e,t,r){var i=r.reduce(function(e,t){return void 0!==t.items&&(n.clearsQuery||"query"!==t.id)?n.clearsQuery&&"query"===t.id&&""===t.items[0].currentRefinement?e:e.concat(t.items.map(function(e){return q({},e,{id:t.id,index:t.index})})):e},[]),a=n.transformItems?n.transformItems(i):i;return{items:a,canRefine:0<a.length}},refine:function(e,t,n){return(n instanceof Array?n.map(function(e){return e.value}):[n]).reduce(function(e,t){return t(e)},t)}});function Kc(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Xc=function(e){return[e.northEast.lat,e.northEast.lng,e.southWest.lat,e.southWest.lng].join()},eu=/^(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)$/,tu=function(e){var t=e.match(eu);return{lat:parseFloat(t[1]),lng:parseFloat(t[2])}},nu=function(e,t,n){var r=Qc(e,t,n,"boundingBox",{});if(!ia(r))return{northEast:{lat:parseFloat(r.northEast.lat),lng:parseFloat(r.northEast.lng)},southWest:{lat:parseFloat(r.southWest.lat),lng:parseFloat(r.southWest.lng)}}},ru=function(e,t,n){return Hc(e,_({},"boundingBox",t),n,!0)},iu=qc({displayName:"AlgoliaGeoSearch",getProvidedProps:function(e,t,n){var r,i,a=Nc(n,this.context),o=nu(e,t,this.context),s=a&&a._state.insideBoundingBox&&(r=a._state.insideBoundingBox,i=r.split(","),{northEast:{lat:parseFloat(i[0]),lng:parseFloat(i[1])},southWest:{lat:parseFloat(i[2]),lng:parseFloat(i[3])}})||void 0,c=function(e,t,n){e.defaultRefinement;var r=Kc(e,["defaultRefinement"]),i=Qc(r,t,n,"aroundLatLng");if(i)return i;var a=Qc(r,t,n,"configure.aroundLatLng");return a&&tu(a)}(e,t,this.context),u=a&&a._state.aroundLatLng&&tu(a._state.aroundLatLng)||void 0,f=o||s,l=c||u;return{hits:a?a.hits.filter(function(e){return Boolean(e._geoloc)}):[],isRefinedWithMap:Boolean(f),currentRefinement:f,position:l}},refine:function(e,t,n){return ru(t,n,this.context)},getSearchParameters:function(e,t,n){var r=nu(t,n,this.context);return r?e.setQueryParameter("insideBoundingBox",Xc(r)):e},cleanUp:function(e,t){return Cc(t,this.context,"boundingBox")},getMetadata:function(e,t){var n=this,r=[],i="boundingBox",a=Tc(this.context),o={},s=nu(e,t,this.context);return s&&r.push({label:"".concat(i,": ").concat(Xc(s)),value:function(e){return ru(e,o,n.context)},currentRefinement:s}),{id:i,index:a,items:r}},shouldComponentUpdate:function(){return!0}}),au=function(e){return e.attributes[0]},ou="hierarchicalMenu";function su(e,t,n){var r=Qc(e,t,n,"".concat(ou,".").concat(au(e)),null);return""===r?null:r}function cu(e,l,h,p){return e.map(function(e){return{label:e.name,value:(t=e.path,n=l,r=h,i=p,a=n.id,o=n.attributes,s=n.separator,c=n.rootPath,u=n.showParentLevel,f=su(n,r,i),null===f?t:new jc.SearchParameters({hierarchicalFacets:[{name:a,attributes:o,separator:s,rootPath:c,showParentLevel:u}]}).toggleHierarchicalFacetRefinement(a,f).toggleHierarchicalFacetRefinement(a,t).getHierarchicalRefinement(a)[0]),count:e.count,isRefined:e.isRefined,items:e.data&&cu(e.data,l,h,p)};var t,n,r,i,a,o,s,c,u,f})}function uu(e,t,n,r){return Hc(t,_({},au(e),n||""),r,!0,ou)}var fu=["name:asc"],lu=qc({displayName:"AlgoliaHierarchicalMenu",propTypes:{attributes:function(e,t,n){if(!Array.isArray(e[t])||e[t].some(function(e){return"string"!=typeof e})||e[t].length<1)return new Error("Invalid prop ".concat(t," supplied to ").concat(n,". Expected an Array of Strings"))},separator:k.string,rootPath:k.string,showParentLevel:k.bool,defaultRefinement:k.string,showMore:k.bool,limit:k.number,showMoreLimit:k.number,transformItems:k.func},defaultProps:{showMore:!1,limit:10,showMoreLimit:20,separator:" > ",rootPath:null,showParentLevel:!0},getProvidedProps:function(e,t,n){var r=e.showMore,i=e.limit,a=e.showMoreLimit,o=au(e),s=Nc(n,this.context);if(!(Boolean(s)&&Boolean(s.getFacetByName(o))))return{items:[],currentRefinement:su(e,t,this.context),canRefine:!1};var c=r?a:i,u=s.getFacetValues(o,{sortBy:fu}),f=u.data?cu(u.data,e,t,this.context):[],l=e.transformItems?e.transformItems(f):f;return{items:function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;return e.slice(0,n).map(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e.items)?q({},e,{items:t(e.items,n)}):e})}(l,c),currentRefinement:su(e,t,this.context),canRefine:0<l.length}},refine:function(e,t,n){return uu(e,t,n,this.context)},cleanUp:function(e,t){return n=e,r=t,i=this.context,Cc(r,i,"".concat(ou,".").concat(au(n)));var n,r,i},getSearchParameters:function(e,t,n){var r=t.attributes,i=t.separator,a=t.rootPath,o=t.showParentLevel,s=t.showMore,c=t.limit,u=t.showMoreLimit,f=au(t),l=s?u:c;e=e.addHierarchicalFacet({name:f,attributes:r,separator:i,rootPath:a,showParentLevel:o}).setQueryParameters({maxValuesPerFacet:Math.max(e.maxValuesPerFacet||0,l)});var h=su(t,n,this.context);return null!==h&&(e=e.toggleHierarchicalFacetRefinement(f,h)),e},getMetadata:function(t,e){var n=this,r=t.attributes[0],i=au(t),a=su(t,e,this.context);return{id:i,index:Tc(this.context),items:a?[{label:"".concat(r,": ").concat(a),attribute:r,value:function(e){return uu(t,e,"",n.context)},currentRefinement:a}]:[]}}}),hu=function(e){var t=e.attribute,n=e.hit,r=e.highlightProperty,i=e.preTag,a=void 0===i?Oc:i,o=e.postTag;return function(e){var t=e.preTag,n=void 0===t?"<em>":t,r=e.postTag,i=void 0===r?"</em>":r,a=e.highlightProperty,o=e.attribute,s=e.hit;if(!s)throw new Error("`hit`, the matching record, must be provided");var c=Ei(s[a],o,{});return Array.isArray(c)?c.map(function(e){return Ec({preTag:n,postTag:i,highlightedValue:e.value})}):Ec({preTag:n,postTag:i,highlightedValue:c.value})}({attribute:t,highlightProperty:r,hit:n,preTag:a,postTag:void 0===o?Ac:o})},pu=qc({displayName:"AlgoliaHighlighter",propTypes:{},getProvidedProps:function(){return{highlight:hu}}}),du=qc({displayName:"AlgoliaHits",getProvidedProps:function(e,t,n){var r=Nc(n,this.context);return r?{hits:Sc(wc(r.hits,r.hitsPerPage,r.page),r.queryID)}:{hits:[]}},getSearchParameters:function(e){return e}});function vu(e,t,n){var r=Qc(e,t,n,"hitsPerPage",null);return"string"==typeof r?parseInt(r,10):r}var mu=qc({displayName:"AlgoliaHitsPerPage",propTypes:{defaultRefinement:k.number.isRequired,items:k.arrayOf(k.shape({label:k.string,value:k.number.isRequired})).isRequired,transformItems:k.func},getProvidedProps:function(e,t){var n=vu(e,t,this.context),r=e.items.map(function(e){return e.value===n?q({},e,{isRefined:!0}):q({},e,{isRefined:!1})});return{items:e.transformItems?e.transformItems(r):r,currentRefinement:n}},refine:function(e,t,n){return Hc(t,_({},"hitsPerPage",n),this.context,!0)},cleanUp:function(e,t){return Cc(t,this.context,"hitsPerPage")},getSearchParameters:function(e,t,n){return e.setHitsPerPage(vu(t,n,this.context))},getMetadata:function(){return{id:"hitsPerPage"}}});function gu(e,t,n){var r=Qc(e,t,n,"page",1);return"string"==typeof r?parseInt(r,10):r}var yu=qc({displayName:"AlgoliaInfiniteHits",getProvidedProps:function(e,t,n){var r=this,i=Nc(n,this.context);if(this._allResults=this._allResults||[],this._prevState=this._prevState||{},!i)return{hits:[],hasPrevious:!1,hasMore:!1,refine:function(){},refinePrevious:function(){},refineNext:function(){}};var a=i.page,o=i.hits,s=i.hitsPerPage,c=i.nbPages,u=i._state,f=((u=void 0===u?{}:u).page,Kc(u,["page"])),l=Sc(wc(o,s,a),i.queryID);void 0!==this._firstReceivedPage&&aa(f,this._prevState)?this._lastReceivedPage<a?(this._allResults=[].concat(Wc(this._allResults),Wc(l)),this._lastReceivedPage=a):this._firstReceivedPage>a&&(this._allResults=[].concat(Wc(l),Wc(this._allResults)),this._firstReceivedPage=a):(this._allResults=Wc(l),this._firstReceivedPage=a,this._lastReceivedPage=a),this._prevState=f;var h=0<this._firstReceivedPage,p=a<c-1;return{hits:this._allResults,hasPrevious:h,hasMore:p,refinePrevious:function(e){return r.refine(e,r._firstReceivedPage-1)},refineNext:function(e){return r.refine(e,r._lastReceivedPage+1)}}},getSearchParameters:function(e,t,n){return e.setQueryParameters({page:gu(t,n,this.context)-1})},refine:function(e,t,n,r){void 0===r&&void 0!==this._lastReceivedPage?r=this._lastReceivedPage+1:void 0===r&&(r=gu(e,t,this.context));return Hc(t,_({},"page",r+1),this.context,!1)}}),bu="menu";function Ru(e){return e.attribute}function Fu(e,t,n){var r=Qc(e,t,n,"".concat(bu,".").concat(Ru(e)),null);return""===r?null:r}function _u(e,t,n,r){return e===Fu(t,n,r)?"":e}function xu(e){var t=e.showMore,n=e.limit,r=e.showMoreLimit;return t?r:n}function ju(e,t,n,r){return Hc(t,_({},Ru(e),n||""),r,!0,bu)}var Pu=["count:desc","name:asc"],wu=qc({displayName:"AlgoliaMenu",propTypes:{attribute:k.string.isRequired,showMore:k.bool,limit:k.number,showMoreLimit:k.number,defaultRefinement:k.string,transformItems:k.func,searchable:k.bool},defaultProps:{showMore:!1,limit:10,showMoreLimit:20},getProvidedProps:function(t,n,e,r,i){var a=this,o=t.attribute,s=t.searchable,c=Nc(e,this.context),u=Boolean(c)&&Boolean(c.getFacetByName(o)),f=Boolean(i&&i[o]&&""!==i.query);if(s&&this.context.multiIndexContext)throw new Error("react-instantsearch: searching in *List is not available when used inside a multi index context");if(!u)return{items:[],currentRefinement:Fu(t,n,this.context),isFromSearch:f,searchable:s,canRefine:u};var l=f?i[o].map(function(e){return{label:e.value,value:_u(e.value,t,n,a.context),_highlightResult:{label:{value:e.highlighted}},count:e.count,isRefined:e.isRefined}}):c.getFacetValues(o,{sortBy:Pu}).map(function(e){return{label:e.name,value:_u(e.name,t,n,a.context),count:e.count,isRefined:e.isRefined}}),h=s&&!f?so(l,["isRefined","count","label"],["desc","desc","asc"]):l,p=t.transformItems?t.transformItems(h):h;return{items:p.slice(0,xu(t)),currentRefinement:Fu(t,n,this.context),isFromSearch:f,searchable:s,canRefine:0<p.length}},refine:function(e,t,n){return ju(e,t,n,this.context)},searchForFacetValues:function(e,t,n){return{facetName:e.attribute,query:n,maxFacetHits:xu(e)}},cleanUp:function(e,t){return n=e,r=t,i=this.context,Cc(r,i,"".concat(bu,".").concat(Ru(n)));var n,r,i},getSearchParameters:function(e,t,n){var r=t.attribute;e=(e=e.setQueryParameters({maxValuesPerFacet:Math.max(e.maxValuesPerFacet||0,xu(t))})).addDisjunctiveFacet(r);var i=Fu(t,n,this.context);return null!==i&&(e=e.addDisjunctiveFacetRefinement(r,i)),e},getMetadata:function(t,e){var n=this,r=Ru(t),i=Fu(t,e,this.context);return{id:r,index:Tc(this.context),items:null===i?[]:[{label:"".concat(t.attribute,": ").concat(i),attribute:t.attribute,value:function(e){return ju(t,e,"",n.context)},currentRefinement:i}]}}});function Su(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ou(e){return void 0===e.start&&void 0===e.end?"":"".concat(e.start?e.start:"",":").concat(e.end?e.end:"")}var Au="multiRange";function Eu(e){return e.attribute}function Tu(e,t,n){return Qc(e,t,n,"".concat(Au,".").concat(Eu(e)),"")}function Nu(e,t,n,r){return Hc(t,_({},Eu(e),n),r,!0,Au)}var Iu=qc({displayName:"AlgoliaNumericMenu",propTypes:{id:k.string,attribute:k.string.isRequired,items:k.arrayOf(k.shape({label:k.node,start:k.number,end:k.number})).isRequired,transformItems:k.func},getProvidedProps:function(v,e,t){var n=v.attribute,m=Tu(v,e,this.context),g=Nc(t,this.context),r=v.items.map(function(e){var t,n,r,i,a,o,s,c,u,f,l,h,p,d=Ou(e);return{label:e.label,value:d,isRefined:d===m,noRefinement:!!g&&(t=Eu(v),n=g,r=d,f=n.getFacetByName(t)?n.getFacetStats(t):null,l=r.split(":"),h=0===Number(l[0])||""===r?Number.NEGATIVE_INFINITY:Number(l[0]),p=0===Number(l[1])||""===r?Number.POSITIVE_INFINITY:Number(l[1]),!(Boolean(f)&&(c=h,u=p,(s=f).min>c&&s.min<u||s.max>c&&s.max<u||(o=p,(a=h)>(i=f).min&&a<i.max||o>i.min&&o<i.max))))}}),i=g&&g.getFacetByName(n)?g.getFacetStats(n):null,a=la(r,function(e){return!0===e.isRefined});r.some(function(e){return""===e.value})||r.push({value:"",isRefined:ia(a),noRefinement:!i,label:"All"});var o=v.transformItems?v.transformItems(r):r;return{items:o,currentRefinement:m,canRefine:0<o.length&&o.some(function(e){return!1===e.noRefinement})}},refine:function(e,t,n){return Nu(e,t,n,this.context)},cleanUp:function(e,t){return n=e,r=t,i=this.context,Cc(r,i,"".concat(Au,".").concat(Eu(n)));var n,r,i},getSearchParameters:function(e,t,n){var r=t.attribute,i=function(e){if(0===e.length)return{start:null,end:null};var t=Su(e.split(":"),2),n=t[0],r=t[1];return{start:0<n.length?parseInt(n,10):null,end:0<r.length?parseInt(r,10):null}}(Tu(t,n,this.context)),a=i.start,o=i.end;return e=e.addDisjunctiveFacet(r),a&&(e=e.addNumericRefinement(r,">=",a)),o&&(e=e.addNumericRefinement(r,"<=",o)),e},getMetadata:function(t,e){var n=this,r=Eu(t),i=Tu(t,e,this.context),a=[],o=Tc(this.context);if(""!==i){var s=la(t.items,function(e){return Ou(e)===i}).label;a.push({label:"".concat(t.attribute,": ").concat(s),attribute:t.attribute,currentRefinement:s,value:function(e){return Nu(t,e,"",n.context)}})}return{id:r,index:o,items:a}}});function Hu(e,t,n){var r=Qc(e,t,n,"page",1);return"string"==typeof r?parseInt(r,10):r}var Du=qc({displayName:"AlgoliaPagination",getProvidedProps:function(e,t,n){var r=Nc(n,this.context);if(!r)return null;var i=r.nbPages;return{nbPages:i,currentRefinement:Hu(e,t,this.context),canRefine:1<i}},refine:function(e,t,n){return r=t,i=n,a=this.context,Hc(r,_({},"page",i),a,!1);var r,i,a},cleanUp:function(e,t){return Cc(t,this.context,"page")},getSearchParameters:function(e,t,n){return e.setPage(Hu(t,n,this.context)-1)},getMetadata:function(){return{id:"page"}}}),Qu=qc({displayName:"AlgoliaPoweredBy",getProvidedProps:function(){var e="undefined"==typeof window;return{url:"https://www.algolia.com/?utm_source=react-instantsearch&utm_medium=website&"+"utm_content=".concat(e?"":window.location.hostname,"&")+"utm_campaign=poweredby"}}}),Cu=oe.isFinite;var Lu=function(e){return"number"==typeof e&&Cu(e)};function Bu(e){return e.attribute}var Mu="range";function ku(e,t,n,r){var i=Qc(e,t,r,"".concat(Mu,".").concat(Bu(e)),{}),a=i.min,o=i.max,s=Boolean(e.precision),c=a;"string"==typeof c&&(c=s?parseFloat(c):parseInt(c,10));var u=o;"string"==typeof u&&(u=s?parseFloat(u):parseInt(u,10));var f={min:c,max:u},l=void 0!==e.min,h=void 0!==e.max,p=void 0!==f.min,d=void 0!==f.max;if(l&&p&&f.min<n.min)throw Error("You can't provide min value lower than range.");if(h&&d&&f.max>n.max)throw Error("You can't provide max value greater than range.");return l&&!p&&(f.min=n.min),h&&!d&&(f.max=n.max),f}function qu(e,t){return{min:void 0!==e.min?e.min:t.min,max:void 0!==e.max?e.max:t.max}}function Uu(e,t,n,r){return e||n!==r?e&&t?n:r:void 0}function zu(e,t,n,r,i){var a=n.min,o=n.max,s=r.min,c=r.max,u=void 0===a||""===a,f=void 0===o||""===o,l=u?void 0:parseFloat(a),h=f?void 0:parseFloat(o),p=u||Lu(l),d=f||Lu(h);if(!p||!d)throw Error("You can't provide non finite values to the range connector.");if(l<s)throw Error("You can't provide min value lower than range.");if(c<h)throw Error("You can't provide max value greater than range.");return Hc(t,_({},Bu(e),{min:Uu(void 0!==e.min,u,s,l),max:Uu(void 0!==e.max,f,c,h)}),i,!0,Mu)}var Vu=qc({displayName:"AlgoliaRange",propTypes:{id:k.string,attribute:k.string.isRequired,defaultRefinement:k.shape({min:k.number,max:k.number}),min:k.number,max:k.number,precision:k.number,header:k.node,footer:k.node},defaultProps:{precision:0},getProvidedProps:function(e,t,n){var r,i,a,o,s,c,u=e.attribute,f=e.precision,l=e.min,h=e.max,p=Nc(n,this.context),d=p&&p.getFacetByName(u),v=d&&p.getFacetStats(u)||{},m=(d?p.getFacetValues(u):[]).map(function(e){return{value:e.name,count:e.count}}),g=(r={min:l,max:h},i=v,a=f,c=Math.pow(10,a),o=Lu(r.min)?r.min:Lu(i.min)?i.min:void 0,s=Lu(r.max)?r.max:Lu(i.max)?i.max:void 0,{min:void 0!==o?Math.floor(o*c)/c:o,max:void 0!==s?Math.ceil(s*c)/c:s}),y=g.min,b=g.max;this._currentRange={min:y,max:b};var R=ku(e,t,this._currentRange,this.context);return{min:y,max:b,canRefine:0<m.length,currentRefinement:qu(R,this._currentRange),count:m,precision:f}},refine:function(e,t,n){return zu(e,t,n,this._currentRange,this.context)},cleanUp:function(e,t){return n=e,r=t,i=this.context,Cc(r,i,"".concat(Mu,".").concat(Bu(n)));var n,r,i},getSearchParameters:function(e,t,n){var r=t.attribute,i=ku(t,n,this._currentRange,this.context),a=i.min,o=i.max;return e=e.addDisjunctiveFacet(r),void 0!==a&&(e=e.addNumericRefinement(r,">=",a)),void 0!==o&&(e=e.addNumericRefinement(r,"<=",o)),e},getMetadata:function(t,e){var n=this,r=this._currentRange,i=r.min,a=r.max,o=ku(t,e,this._currentRange,this.context),s=o.min,c=o.max,u=[],f=void 0!==s,l=void 0!==c;if(f&&s!==i||l&&c!==a){var h=[f?"".concat(s," <= "):"",t.attribute,l?" <= ".concat(c):""];u.push({label:h.join(""),attribute:t.attribute,value:function(e){return zu(t,e,{},n._currentRange,n.context)},currentRefinement:qu({min:s,max:c},{min:i,max:a})})}return{id:Bu(t),index:Tc(this.context),items:u}}}),Wu="refinementList";function $u(e){return e.attribute}function Ju(e,t,n){var r=Qc(e,t,n,"".concat(Wu,".").concat($u(e)),[]);return"string"!=typeof r?r:r?[r]:[]}function Yu(t,e,n,r){var i=Ju(e,n,r);return-1===i.indexOf(t)?i.concat([t]):i.filter(function(e){return e!==t})}function Gu(e){var t=e.showMore,n=e.limit,r=e.showMoreLimit;return t?r:n}function Zu(e,t,n,r){return Hc(t,_({},$u(e),0<n.length?n:""),r,!0,Wu)}var Ku=["isRefined","count:desc","name:asc"],Xu=qc({displayName:"AlgoliaRefinementList",propTypes:{id:k.string,attribute:k.string.isRequired,operator:k.oneOf(["and","or"]),showMore:k.bool,limit:k.number,showMoreLimit:k.number,defaultRefinement:k.arrayOf(k.oneOfType([k.string,k.number])),searchable:k.bool,transformItems:k.func},defaultProps:{operator:"or",showMore:!1,limit:10,showMoreLimit:20},getProvidedProps:function(t,n,e,r,i){var a=this,o=t.attribute,s=t.searchable,c=Nc(e,this.context),u=Boolean(c)&&Boolean(c.getFacetByName(o)),f=Boolean(i&&i[o]&&""!==i.query);if(s&&this.context.multiIndexContext)throw new Error("react-instantsearch: searching in *List is not available when used inside a multi index context");if(!u)return{items:[],currentRefinement:Ju(t,n,this.context),canRefine:u,isFromSearch:f,searchable:s};var l=f?i[o].map(function(e){return{label:e.value,value:Yu(e.value,t,n,a.context),_highlightResult:{label:{value:e.highlighted}},count:e.count,isRefined:e.isRefined}}):c.getFacetValues(o,{sortBy:Ku}).map(function(e){return{label:e.name,value:Yu(e.name,t,n,a.context),count:e.count,isRefined:e.isRefined}}),h=t.transformItems?t.transformItems(l):l;return{items:h.slice(0,Gu(t)),currentRefinement:Ju(t,n,this.context),isFromSearch:f,searchable:s,canRefine:0<h.length}},refine:function(e,t,n){return Zu(e,t,n,this.context)},searchForFacetValues:function(e,t,n){return{facetName:e.attribute,query:n,maxFacetHits:Gu(e)}},cleanUp:function(e,t){return n=e,r=t,i=this.context,Cc(r,i,"".concat(Wu,".").concat($u(n)));var n,r,i},getSearchParameters:function(e,t,n){var r=t.attribute,i="and"===t.operator?"addFacet":"addDisjunctiveFacet",a="".concat(i,"Refinement");return e=(e=e.setQueryParameters({maxValuesPerFacet:Math.max(e.maxValuesPerFacet||0,Gu(t))}))[i](r),Ju(t,n,this.context).reduce(function(e,t){return e[a](r,t)},e)},getMetadata:function(r,i){var e=$u(r),a=this.context;return{id:e,index:Tc(this.context),items:0<Ju(r,i,a).length?[{attribute:r.attribute,label:"".concat(r.attribute,": "),currentRefinement:Ju(r,i,a),value:function(e){return Zu(r,e,[],a)},items:Ju(r,i,a).map(function(n){return{label:"".concat(n),value:function(e){var t=Ju(r,e,a).filter(function(e){return e!==n});return Zu(r,i,t,a)}}})}]:[]}}}),ef=qc({displayName:"AlgoliaScrollTo",propTypes:{scrollOn:k.string},defaultProps:{scrollOn:"page"},getProvidedProps:function(e,t){var n=e.scrollOn,r=Qc(e,t,this.context,n,null);this._prevSearchState||(this._prevSearchState={}),Ic(this.context)&&(t=t.indices?t.indices[Tc(this.context)]:{});var i=Mr(Mr(t,"configure"),n),a=Pc(this._prevSearchState,i);return this._prevSearchState=i,{value:r,hasNotChanged:a}}});function tf(e,t,n){var r=Qc(e,t,n,"query","");return r||""}function nf(e,t,n,r){return Hc(t,_({},"query",n),r,!0)}var rf=qc({displayName:"AlgoliaSearchBox",propTypes:{defaultRefinement:k.string},getProvidedProps:function(e,t,n){return{currentRefinement:tf(e,t,this.context),isSearchStalled:n.isSearchStalled}},refine:function(e,t,n){return nf(0,t,n,this.context)},cleanUp:function(e,t){return n=t,r=this.context,Cc(n,r,"query");var n,r},getSearchParameters:function(e,t,n){return e.setQuery(tf(t,n,this.context))},getMetadata:function(e,t){var n=this,r=tf(e,t,this.context);return{id:"query",index:Tc(this.context),items:null===r?[]:[{label:"".concat("query",": ").concat(r),value:function(e){return nf(0,e,"",n.context)},currentRefinement:r}]}}});function af(e,t,n){var r=Qc(e,t,n,"sortBy",null);return r||null}var of=qc({displayName:"AlgoliaSortBy",propTypes:{defaultRefinement:k.string,items:k.arrayOf(k.shape({label:k.string,value:k.string.isRequired})).isRequired,transformItems:k.func},getProvidedProps:function(e,t){var n=af(e,t,this.context),r=e.items.map(function(e){return e.value===n?q({},e,{isRefined:!0}):q({},e,{isRefined:!1})});return{items:e.transformItems?e.transformItems(r):r,currentRefinement:n}},refine:function(e,t,n){return Hc(t,_({},"sortBy",n),this.context,!0)},cleanUp:function(e,t){return Cc(t,this.context,"sortBy")},getSearchParameters:function(e,t,n){var r=af(t,n,this.context);return e.setIndex(r)},getMetadata:function(){return{id:"sortBy"}}}),sf=qc({displayName:"AlgoliaStateResults",getProvidedProps:function(e,t,n){return{searchState:t,searchResults:Nc(n,this.context),allSearchResults:n.results,searching:n.searching,isSearchStalled:n.isSearchStalled,error:n.error,searchingForFacetValues:n.searchingForFacetValues,props:e}}}),cf=qc({displayName:"AlgoliaStats",getProvidedProps:function(e,t,n){var r=Nc(n,this.context);return r?{nbHits:r.nbHits,processingTimeMS:r.processingTimeMS}:null}});function uf(e){return e.attribute}var ff="toggle";function lf(e,t,n){var r=Qc(e,t,n,"".concat(ff,".").concat(uf(e)),!1);return r||!1}function hf(e,t,n,r){return Hc(t,_({},uf(e),n||!1),r,!0,ff)}var pf=qc({displayName:"AlgoliaToggle",propTypes:{label:k.string.isRequired,attribute:k.string.isRequired,value:k.any.isRequired,filter:k.func,defaultRefinement:k.bool},getProvidedProps:function(e,t,n){var r=e.attribute,i=e.value,a=Nc(n,this.context),o=lf(e,t,this.context),s=a&&a.getFacetByName(r)?a.getFacetValues(r):null,c=s&&s.length?la(s,function(e){return e.name===i.toString()}):null,u=c&&c.count,f=s&&s.length?s.reduce(function(e,t){return e+t.count},0):null;return{currentRefinement:o,canRefine:o?null!==f&&0<f:null!==u&&0<u,count:{checked:f,unchecked:u}}},refine:function(e,t,n){return hf(e,t,n,this.context)},cleanUp:function(e,t){return n=e,r=t,i=this.context,Cc(r,i,"".concat(ff,".").concat(uf(n)));var n,r,i},getSearchParameters:function(e,t,n){var r=t.attribute,i=t.value,a=t.filter,o=lf(t,n,this.context),s=e.addDisjunctiveFacet(r);return o&&(s=s.addDisjunctiveFacetRefinement(r,i),a&&(s=a(s))),s},getMetadata:function(t,e){var n=this,r=uf(t),i=lf(t,e,this.context),a=[],o=Tc(this.context);return i&&a.push({label:t.label,currentRefinement:i,attribute:t.attribute,value:function(e){return hf(t,e,!1,n.context)}}),{id:r,index:o,items:a}}});var df=function(r,i,a){return function(e,t){if("function"!=typeof r)throw new TypeError("Expected insightsClient to be a Function");var n=function(e){var t=e.method,n=e.results,r=e.currentHit,i=n.index,a=r.__queryID,o=[r.objectID];switch(t){case"clickedObjectIDsAfterSearch":return{index:i,queryID:a,objectIDs:o,positions:[r.__position]};case"convertedObjectIDsAfterSearch":return{index:i,queryID:a,objectIDs:o};default:throw new Error('Unsupported method "'.concat(t,'" passed to the insights function. The supported methods are: "clickedObjectIDsAfterSearch", "convertedObjectIDsAfterSearch".'))}}({method:e,results:i,currentHit:a});r(e,q({},n,t))}};e.connectAutoComplete=Jc,e.connectBreadcrumb=Gc,e.connectConfigure=Vc,e.connectCurrentRefinements=Zc,e.connectGeoSearch=iu,e.connectHierarchicalMenu=lu,e.connectHighlight=pu,e.connectHitInsights=function(i){return qc({displayName:"AlgoliaInsights",getProvidedProps:function(e,t,n){var r=Nc(n,this.context);return{insights:df(i,r,e.hit)}}})},e.connectHits=du,e.connectHitsPerPage=mu,e.connectInfiniteHits=yu,e.connectMenu=wu,e.connectNumericMenu=Iu,e.connectPagination=Du,e.connectPoweredBy=Qu,e.connectRange=Vu,e.connectRefinementList=Xu,e.connectScrollTo=ef,e.connectSearchBox=rf,e.connectSortBy=of,e.connectStateResults=sf,e.connectStats=cf,e.connectToggleRefinement=pf,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=Connectors.min.js.map
